---
title: HoloLens 帐户
description: 如何在 HoloLens 上设置和管理用户帐户。
author: tmlyon
ms.author: toddly
ms.date: 03/21/2018
ms.topic: article
keywords: HoloLens，用户，帐户，aad，adfs，microsoft 帐户，msa，凭据
ms.openlocfilehash: 5579cf53948b8bdbd4b41973dde7b8fc70a5aa31
ms.sourcegitcommit: 6bc6757b9b273a63f260f1716c944603dfa51151
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 11/01/2019
ms.locfileid: "73437082"
---
# <a name="accounts-on-hololens"></a><span data-ttu-id="8ba93-104">HoloLens 帐户</span><span class="sxs-lookup"><span data-stu-id="8ba93-104">Accounts on HoloLens</span></span>

<span data-ttu-id="8ba93-105">初次安装 HoloLens 期间，用户需要使用他们要在设备上使用的帐户登录。</span><span class="sxs-lookup"><span data-stu-id="8ba93-105">During initial HoloLens setup, users are required to sign in with the account they want to use on the device.</span></span> <span data-ttu-id="8ba93-106">此帐户可以是使用者 Microsoft 帐户或已在 Azure Active Directory （AAD）或 Active Directory 联合身份验证服务（ADFS）中配置的企业帐户。</span><span class="sxs-lookup"><span data-stu-id="8ba93-106">This account can be either a consumer Microsoft account or an enterprise account that has been configured in Azure Active Directory (AAD) or Active Directory Federation Services (ADFS).</span></span>

<span data-ttu-id="8ba93-107">在安装过程中登录此帐户将在设备上创建一个用户配置文件，用户可以使用该配置文件登录，并且所有应用程序都将在该设备上存储其数据。</span><span class="sxs-lookup"><span data-stu-id="8ba93-107">Signing into this account during setup creates a user profile on the device which the user can use to sign-in, and against which all apps will store their data.</span></span> <span data-ttu-id="8ba93-108">此同一帐户还通过 Windows 帐户管理器 Api 为应用（如 Edge 或 Skype）提供单一登录。</span><span class="sxs-lookup"><span data-stu-id="8ba93-108">This same account also provides Single Sign On for apps such as Edge or Skype via the Windows Account Manager APIs.</span></span>

<span data-ttu-id="8ba93-109">此外，在设备上登录到企业或组织帐户时，它还可能应用移动设备管理（MDM）策略（如果你的 IT 管理员已配置）。</span><span class="sxs-lookup"><span data-stu-id="8ba93-109">Additionally, when signing into an enterprise or organizational account on the device, it may also apply Mobile Device Management (MDM) policy, if configured by your IT Admin.</span></span>

<span data-ttu-id="8ba93-110">当设备重新启动或从待机状态恢复时，将使用此帐户的凭据重新登录。</span><span class="sxs-lookup"><span data-stu-id="8ba93-110">Whenever the device restarts or resumes from standby, the credentials for this account are used to sign-in again.</span></span> <span data-ttu-id="8ba93-111">如果在 "设置" 中启用了强制显式登录的选项，则该用户将需要再次键入其凭据。</span><span class="sxs-lookup"><span data-stu-id="8ba93-111">If the option enforcing an explicit sign-in is enabled in Settings, the user will be required to type in their credentials again.</span></span> <span data-ttu-id="8ba93-112">如果设备在接收和应用 OS 更新后重新启动，则需要显式登录。</span><span class="sxs-lookup"><span data-stu-id="8ba93-112">Anytime the device restarts after receiving and applying an OS update, an explicit sign-in is required.</span></span>

## <a name="multi-user-support"></a><span data-ttu-id="8ba93-113">多用户支持</span><span class="sxs-lookup"><span data-stu-id="8ba93-113">Multi-user support</span></span>

>[!NOTE]
><span data-ttu-id="8ba93-114">多用户支持需要商用套件，因为这是一项[Windows 全息](https://docs.microsoft.com/hololens/hololens-upgrade-enterprise)版功能。</span><span class="sxs-lookup"><span data-stu-id="8ba93-114">Multi-user support requires the Commercial Suite, as this is a [Windows Holographic for Business](https://docs.microsoft.com/hololens/hololens-upgrade-enterprise) feature.</span></span>

<span data-ttu-id="8ba93-115">从[Windows 10 2018 年4月的更新](release-notes-april-2018.md)开始，HoloLens 支持同一 AAD 租户中的多个用户。</span><span class="sxs-lookup"><span data-stu-id="8ba93-115">Starting with the [Windows 10 April 2018 Update](release-notes-april-2018.md), HoloLens supports multiple users from within the same AAD tenant.</span></span> <span data-ttu-id="8ba93-116">若要使用此设置，你必须首先使用属于你的组织的帐户设置设备。</span><span class="sxs-lookup"><span data-stu-id="8ba93-116">To use this you must set up the device initially with an account that belongs to your organization.</span></span> <span data-ttu-id="8ba93-117">随后，同一租户中的其他用户可以通过登录屏幕登录到该设备，或通过点击 "开始" 面板上的 "用户" 磁贴来注销现有用户。</span><span class="sxs-lookup"><span data-stu-id="8ba93-117">Subsequently, other users from the same tenant will be able to sign into the device from the sign-in screen or by tapping the user tile on the Start panel to sign out the existing user.</span></span> 

<span data-ttu-id="8ba93-118">设备上安装的应用程序将可供所有其他用户使用，但每个应用程序都有自己的应用程序数据和首选项。</span><span class="sxs-lookup"><span data-stu-id="8ba93-118">Apps installed on the device will be available to all other users, but each will have their own app data and preferences.</span></span> <span data-ttu-id="8ba93-119">不过，删除应用程序时也会将其删除。</span><span class="sxs-lookup"><span data-stu-id="8ba93-119">Removing an app will also remove it for all other users though.</span></span> 

<span data-ttu-id="8ba93-120">可以通过转到 "设置" > 帐户 > 其他人 "，从设备中删除设备用户以回收空间。</span><span class="sxs-lookup"><span data-stu-id="8ba93-120">You can remove device users from the device to reclaim space by going to Settings > Accounts > Other people.</span></span> <span data-ttu-id="8ba93-121">这也会从设备中删除所有其他用户的应用数据。</span><span class="sxs-lookup"><span data-stu-id="8ba93-121">This will also remove all of the other users' app data from the device.</span></span> 

## <a name="linked-accounts"></a><span data-ttu-id="8ba93-122">链接的帐户</span><span class="sxs-lookup"><span data-stu-id="8ba93-122">Linked accounts</span></span>

<span data-ttu-id="8ba93-123">在单个设备帐户内，用户可以链接更多的 web 帐户凭据，以使应用中的访问更加轻松（例如应用商店）或合并对个人和工作资源的访问权限，这与 Windows 的桌面版本类似。</span><span class="sxs-lookup"><span data-stu-id="8ba93-123">Within a single device account, users can link additional web account credentials for the purpose of the easier access within apps (such as the Store) or to combine access to personal and work resources, similar to the Desktop version of Windows.</span></span> <span data-ttu-id="8ba93-124">以这种方式登录到其他帐户不会分离在设备上创建的用户数据，如映像或下载。</span><span class="sxs-lookup"><span data-stu-id="8ba93-124">Signing into an additional account in this way does not separate the user data created on the device, such as images or downloads.</span></span> <span data-ttu-id="8ba93-125">一旦帐户已连接到设备，应用就可以将其与你的权限结合使用，以减少需要单独登录到每个应用的权限。</span><span class="sxs-lookup"><span data-stu-id="8ba93-125">Once an account has been connected to a device, apps can make use of it with your permission to reduce having to sign into each app individually.</span></span>

## <a name="using-single-sign-on-within-an-app"></a><span data-ttu-id="8ba93-126">在应用中使用单一登录</span><span class="sxs-lookup"><span data-stu-id="8ba93-126">Using single sign-on within an app</span></span>

<span data-ttu-id="8ba93-127">作为应用开发人员，你可以利用使用[Windows 帐户管理器 api](https://msdn.microsoft.com/library/windows/apps/xaml/windows.security.authentication.web.core.aspx)在 HoloLens 上建立连接的标识，就像在其他 Windows 设备上一样。</span><span class="sxs-lookup"><span data-stu-id="8ba93-127">As an app developer, you can take advantage of having a connected identity on HoloLens with the [Windows Account Manager APIs](https://msdn.microsoft.com/library/windows/apps/xaml/windows.security.authentication.web.core.aspx), just as you would on other Windows devices.</span></span> <span data-ttu-id="8ba93-128">[此处](https://go.microsoft.com/fwlink/p/?LinkId=620621)提供了这些 api 的一些代码示例。</span><span class="sxs-lookup"><span data-stu-id="8ba93-128">Some code samples for these APIs are available [here](https://go.microsoft.com/fwlink/p/?LinkId=620621).</span></span>

<span data-ttu-id="8ba93-129">当应用请求身份验证令牌时，必须处理任何可能发生的帐户中断，如请求用户同意帐户信息、双因素身份验证等。</span><span class="sxs-lookup"><span data-stu-id="8ba93-129">Any account interrupts that may occur such as requesting user consent for account information, two-factor authentication etc. must be handled when the app requests an authentication token.</span></span>

<span data-ttu-id="8ba93-130">如果你的应用程序需要以前未链接的特定帐户类型，你的应用程序可以要求系统提示用户添加一个。</span><span class="sxs-lookup"><span data-stu-id="8ba93-130">If your app requires a specific account type that hasn't been linked previously, your app can ask the system to prompt the user to add one.</span></span> <span data-ttu-id="8ba93-131">这会触发 "帐户设置" 窗格作为应用的模式子级启动。</span><span class="sxs-lookup"><span data-stu-id="8ba93-131">This will trigger the account settings pane to be launched as a modal child of your app.</span></span> <span data-ttu-id="8ba93-132">对于2D 应用程序，此窗口将直接呈现在应用的中心，而对于 Unity 应用，这会将用户从全息应用中弹出，以便能够呈现此子窗口。</span><span class="sxs-lookup"><span data-stu-id="8ba93-132">For 2D apps, this window will render directly over the center of your app and for Unity apps, this will briefly take the user out of your holographic app so that this child window can be rendered.</span></span> <span data-ttu-id="8ba93-133">[此处](https://msdn.microsoft.com/library/windows/apps/windows.ui.applicationsettings.webaccountcommand.aspx)描述了此窗格上的自定义命令和操作。</span><span class="sxs-lookup"><span data-stu-id="8ba93-133">Customizing the commands and actions on this pane is described [here](https://msdn.microsoft.com/library/windows/apps/windows.ui.applicationsettings.webaccountcommand.aspx).</span></span>

## <a name="enterprise-and-other-authentication"></a><span data-ttu-id="8ba93-134">企业和其他身份验证</span><span class="sxs-lookup"><span data-stu-id="8ba93-134">Enterprise and other authentication</span></span>

<span data-ttu-id="8ba93-135">如果你的应用程序使用其他类型的身份验证，例如 NTLM、Basic 或 Kerberos，则可以使用[Windows 凭据 UI](https://msdn.microsoft.com/library/windows/apps/windows.security.credentials.ui.aspx)来收集、处理和存储用户凭据。</span><span class="sxs-lookup"><span data-stu-id="8ba93-135">If your app makes use of other types of authentication, such as NTLM, Basic, or Kerberos, you can use [Windows Credential UI](https://msdn.microsoft.com/library/windows/apps/windows.security.credentials.ui.aspx) to collect, process, and store the user's credentials.</span></span> <span data-ttu-id="8ba93-136">收集这些凭据的用户体验非常类似于其他云驱动的帐户中断，它将在2D 应用程序的基础上显示为子应用，或者只是暂时挂起 Unity 应用以显示 UI。</span><span class="sxs-lookup"><span data-stu-id="8ba93-136">The user experience for collecting these credentials is very similar to other cloud driven account interrupts and will appear as a child app on top of your 2D app or briefly suspend a Unity app to show the UI.</span></span>

## <a name="deprecated-apis"></a><span data-ttu-id="8ba93-137">弃用的 Api</span><span class="sxs-lookup"><span data-stu-id="8ba93-137">Deprecated APIs</span></span>

<span data-ttu-id="8ba93-138">从桌面开发 HoloLens 的一个区别是不完全支持[OnlineIDAuthenticator](https://msdn.microsoft.com/library/windows/apps/windows.security.authentication.onlineid.onlineidauthenticator.aspx) API。</span><span class="sxs-lookup"><span data-stu-id="8ba93-138">One difference for developing on HoloLens from Desktop is that [OnlineIDAuthenticator](https://msdn.microsoft.com/library/windows/apps/windows.security.authentication.onlineid.onlineidauthenticator.aspx) API is not fully supported.</span></span> <span data-ttu-id="8ba93-139">尽管主帐户在良好的情况下会返回令牌，但如下所述的中断将不会显示用户的任何 UI，并且无法正确地对帐户进行身份验证。</span><span class="sxs-lookup"><span data-stu-id="8ba93-139">Although it will return a token if the primary account is in good-standing, interrupts such as those described above will not display any UI for the user, and will fail to correctly authenticate the account.</span></span>

