---
title: MR 学习基本模块-高级输入
description: 完成此课程以了解如何在混合的现实应用程序中实现 Azure 人脸识别。
author: jessemcculloch
ms.author: jemccull
ms.date: 02/26/2019
ms.topic: article
ms.localizationpriority: high
keywords: unity 中，教程，hololens 混合的现实
ms.openlocfilehash: 32141aafd43c5d729919673509c93bb2014edd37
ms.sourcegitcommit: 1c0fbee8fa887525af6ed92174edc42c05b25f90
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 05/16/2019
ms.locfileid: "65730923"
---
# <a name="mr-learning-base-module---advanced-input"></a><span data-ttu-id="11995-104">MR 学习基本模块-高级输入</span><span class="sxs-lookup"><span data-stu-id="11995-104">MR Learning Base Module - Advanced Input</span></span>

<span data-ttu-id="11995-105">在本课中，我们将了解几个高级输入的 HoloLens 2，包括使用语音命令、 平移手势和的眼跟踪选项。</span><span class="sxs-lookup"><span data-stu-id="11995-105">In this lesson, we will explore several advanced input options for the HoloLens 2, including the use of voice commands, the panning gesture, and eye tracking.</span></span> 

## <a name="objectives"></a><span data-ttu-id="11995-106">目标</span><span class="sxs-lookup"><span data-stu-id="11995-106">Objectives</span></span>

- <span data-ttu-id="11995-107">了解如何在触发事件使用语音命令和关键字</span><span class="sxs-lookup"><span data-stu-id="11995-107">Learn how to trigger events using voice commands and keywords</span></span>
- <span data-ttu-id="11995-108">使用跟踪的手平移纹理和三维对象</span><span class="sxs-lookup"><span data-stu-id="11995-108">Use tracked hands to pan textures and 3D objects</span></span>
- <span data-ttu-id="11995-109">利用 HoloLens 2 的眼跟踪功能，以选择对象</span><span class="sxs-lookup"><span data-stu-id="11995-109">Leverage the HoloLens 2's eye tracking capabilities to select objects</span></span>

## <a name="instructions"></a><span data-ttu-id="11995-110">说明</span><span class="sxs-lookup"><span data-stu-id="11995-110">Instructions</span></span>

### <a name="enabling-voice-commands"></a><span data-ttu-id="11995-111">启用语音命令</span><span class="sxs-lookup"><span data-stu-id="11995-111">Enabling Voice Commands</span></span>

<span data-ttu-id="11995-112">在本部分中，我们将实施两个语音命令。</span><span class="sxs-lookup"><span data-stu-id="11995-112">In this section, we will be implementing two voice commands.</span></span> <span data-ttu-id="11995-113">首先，通过依次选择"切换诊断"。 打开帧速率诊断面板的能力</span><span class="sxs-lookup"><span data-stu-id="11995-113">First, the ability to toggle the frame rate diagnostics panel by saying "toggle diagnostics."</span></span> <span data-ttu-id="11995-114">第二个，播放声音，语音命令的能力。</span><span class="sxs-lookup"><span data-stu-id="11995-114">Second, the ability to play a sound with a voice command.</span></span> <span data-ttu-id="11995-115">首先，我们将探讨 MRTK 配置文件和设置负责配置语音命令。</span><span class="sxs-lookup"><span data-stu-id="11995-115">We will first explore the MRTK profiles and settings responsible for configuring voice commands.</span></span> 

1. <span data-ttu-id="11995-116">在基本场景的层次结构中选择"MixedRealityToolkit。"</span><span class="sxs-lookup"><span data-stu-id="11995-116">In the Base Scene hierarchy select "MixedRealityToolkit."</span></span> <span data-ttu-id="11995-117">在检查器面板中，向下滚动输入的系统设置。</span><span class="sxs-lookup"><span data-stu-id="11995-117">In the inspector panel, scroll down to the input system settings.</span></span> <span data-ttu-id="11995-118">双击以打开输入的系统配置文件。</span><span class="sxs-lookup"><span data-stu-id="11995-118">Double click to open up the input system profile.</span></span> <span data-ttu-id="11995-119">克隆在输入的系统配置文件，使其可编辑，正如我们在获知[第 1 课](mrlearning-base-ch1.md)</span><span class="sxs-lookup"><span data-stu-id="11995-119">Clone the input system profile to make it editable, as we learned in [Lesson 1](mrlearning-base-ch1.md)</span></span> 

<span data-ttu-id="11995-120">在输入的系统的配置文件，你将看到各种设置。</span><span class="sxs-lookup"><span data-stu-id="11995-120">In the input system profile, you will see a variety of settings.</span></span> <span data-ttu-id="11995-121">语音命令，请向下转至在那里显示，"语音命令设置"。</span><span class="sxs-lookup"><span data-stu-id="11995-121">For voice commands, go down to where it says, “Speech Command Settings.”</span></span> 

![Lesson5 第 1 章 Step2im](images/Lesson5_Chapter1_step2im.PNG)

2. <span data-ttu-id="11995-123">克隆语音命令配置文件，使其可编辑，正如我们在获知[第 1 课](mrlearning-base-ch1.md)。</span><span class="sxs-lookup"><span data-stu-id="11995-123">Clone the speech commands profile to make it editable, as we learned in [Lesson 1](mrlearning-base-ch1.md).</span></span> <span data-ttu-id="11995-124">双击语音命令配置文件，您会注意到一系列的设置。</span><span class="sxs-lookup"><span data-stu-id="11995-124">Double click on the speech command profile, where you’ll notice a range of settings.</span></span> <span data-ttu-id="11995-125">有关这些设置的完整说明，请参阅[MRTK 语音文档](<https://microsoft.github.io/MixedRealityToolkit-Unity/Documentation/Input/Speech.html>)。</span><span class="sxs-lookup"><span data-stu-id="11995-125">For a full description on these settings, refer the [MRTK speech documentation](<https://microsoft.github.io/MixedRealityToolkit-Unity/Documentation/Input/Speech.html>).</span></span> 

><span data-ttu-id="11995-126">注意：默认情况下，常规行为是自动启动。</span><span class="sxs-lookup"><span data-stu-id="11995-126">Note: By default, the general behavior is auto-start.</span></span> <span data-ttu-id="11995-127">可更改以手动启动如果需要，但对于此示例中我们将其保留在自动启动。</span><span class="sxs-lookup"><span data-stu-id="11995-127">That can be changed to manual-start if desired, but for this example we are going to keep it on auto-start.</span></span> <span data-ttu-id="11995-128">MRTK 附带了几个默认语音命令 （如菜单、 切换诊断和切换事件探查器）。</span><span class="sxs-lookup"><span data-stu-id="11995-128">The MRTK comes with several default voice commands (such as menu, toggle diagnostics, and toggle profiler).</span></span> <span data-ttu-id="11995-129">我们将使用关键字"切换诊断"以打开和关闭诊断帧速率计数器。</span><span class="sxs-lookup"><span data-stu-id="11995-129">We will be using the keyword “toggle diagnostics” in order to turn on and off the diagnostics framerate counter.</span></span> <span data-ttu-id="11995-130">下面的步骤中，我们还将添加一个新的语音命令。</span><span class="sxs-lookup"><span data-stu-id="11995-130">We will also add a new voice command in the steps below.</span></span>
>
> ![Lesson5 第 1 章 Noteim](images/Lesson5_chapter1_noteim.PNG)

3. <span data-ttu-id="11995-132">添加一个新的语音命令。</span><span class="sxs-lookup"><span data-stu-id="11995-132">Add a new voice command.</span></span> <span data-ttu-id="11995-133">若要添加新的语音命令，请单击"+ 添加新的语音命令"按钮并将看到显示向下的现有语音命令在列表下方的新行。</span><span class="sxs-lookup"><span data-stu-id="11995-133">To add a new voice command, click on the “+ add a new speech command” button and you will see a new line that appears down below the list of existing voice commands.</span></span> <span data-ttu-id="11995-134">键入你想要使用的语音命令。</span><span class="sxs-lookup"><span data-stu-id="11995-134">Type in the voice command you want to use.</span></span> <span data-ttu-id="11995-135">在此示例 musicample 我们要使用命令"播放音乐"。</span><span class="sxs-lookup"><span data-stu-id="11995-135">In this ex musicample we are going to use the command “play music.”</span></span>

><span data-ttu-id="11995-136">提示：此外可以设置语音命令的键盘代码。</span><span class="sxs-lookup"><span data-stu-id="11995-136">Tip: You can also set a keycode for speech commands.</span></span> <span data-ttu-id="11995-137">这允许语音命令，以在按下键盘键时触发。</span><span class="sxs-lookup"><span data-stu-id="11995-137">This allows for voice commands to trigger upon press of a keyboard key.</span></span>   

4. <span data-ttu-id="11995-138">添加响应语音命令的能力。</span><span class="sxs-lookup"><span data-stu-id="11995-138">Add the ability to respond to voice commands.</span></span> <span data-ttu-id="11995-139">在不具有任何其他附加到它 （例如，没有操作处理程序。） 的输入的脚本的基本场景层次结构中选择的任何对象在检查器窗格中，单击"添加组件"。</span><span class="sxs-lookup"><span data-stu-id="11995-139">Select any object in the base scene hierarchy that does not have any other input scripts attached to it (e.g., no manipulation handler.) In the inspector panel, click “add component.”</span></span> <span data-ttu-id="11995-140">键入"语音输入的处理程序。"</span><span class="sxs-lookup"><span data-stu-id="11995-140">Type in “speech input handler.”</span></span> <span data-ttu-id="11995-141">选择它。</span><span class="sxs-lookup"><span data-stu-id="11995-141">Select it.</span></span>
   <span data-ttu-id="11995-142">![Lesson5 Chapter1 Step4im](images/Lesson5_chapter1_step4im.PNG)</span><span class="sxs-lookup"><span data-stu-id="11995-142">![Lesson5 Chapter1 Step4im](images/Lesson5_chapter1_step4im.PNG)</span></span>

   

<span data-ttu-id="11995-143">默认情况下，你将看到 2 个复选框，其中一个是"为所需的焦点"复选框。</span><span class="sxs-lookup"><span data-stu-id="11995-143">By default, you will see 2 checkboxes, one is the “is focus required” checkbox.</span></span> <span data-ttu-id="11995-144">这意味着，只要你指向与的视线移动 ray、 （关注注视、 head 注视、 控制器视线移动或手动提供注视） 的对象将触发语音命令。</span><span class="sxs-lookup"><span data-stu-id="11995-144">What this means is as long as you are pointing to the object with a gaze ray, (eye-gaze, head-gaze, controller-gaze, or hand-gaze) the voice command will be triggered.</span></span> <span data-ttu-id="11995-145">取消选中此复选框可使它，以便用户无需查看要使用语音命令的对象。</span><span class="sxs-lookup"><span data-stu-id="11995-145">Uncheck this checkbox to make it so that the user does not have to look at the object to use the voice command.</span></span>

5. <span data-ttu-id="11995-146">添加响应语音命令的能力。</span><span class="sxs-lookup"><span data-stu-id="11995-146">Add the ability to respond to a voice command.</span></span> <span data-ttu-id="11995-147">若要执行此操作，请单击语音输入处理程序中的"+"按钮，然后选择你想要响应的关键字。</span><span class="sxs-lookup"><span data-stu-id="11995-147">To do this, click the “+” button that’s in the speech input handler and select the keyword you would like to respond to.</span></span>

   > <span data-ttu-id="11995-148">注意：这些关键字都基于上一步中编辑的配置文件填充。</span><span class="sxs-lookup"><span data-stu-id="11995-148">Note: These keywords are populated based on the profile you edited in the previous step.</span></span>

![Lesson5 第 1 章 Step5im](images/Lesson5_chapter1_step5im.PNG)

6. <span data-ttu-id="11995-150">"关键字"旁边，您将看到一个下拉列表菜单。</span><span class="sxs-lookup"><span data-stu-id="11995-150">Next to “Keyword” you will see a dropdown menu.</span></span> <span data-ttu-id="11995-151">选择"切换诊断"。</span><span class="sxs-lookup"><span data-stu-id="11995-151">Select “Toggle Diagnostics.”</span></span> <span data-ttu-id="11995-152">这将使它，以便每当用户所讲的短语，"切换诊断"时它将触发操作。</span><span class="sxs-lookup"><span data-stu-id="11995-152">This will make it so that whenever the user says the phrase, “toggle diagnostics” it will trigger an action.</span></span> <span data-ttu-id="11995-153">请注意，您可能需要通过按其旁边的箭头展开"元素 0"。</span><span class="sxs-lookup"><span data-stu-id="11995-153">Note that you may need to expand "element 0" by pressing the arrow next to it.</span></span>

![Lesson5 Chapter1 Step6im](images/Lesson5_chapter1_step6im.PNG)

7. <span data-ttu-id="11995-155">添加"诊断演示控制脚本"来打开和关闭之间切换的帧速率计数器诊断。</span><span class="sxs-lookup"><span data-stu-id="11995-155">Add the “diagnostics demo control script” to toggle the framerate counter diagnostic on and off.</span></span> <span data-ttu-id="11995-156">若要执行此操作，按"添加组件"按钮并搜索"诊断演示控制脚本"，然后从菜单中添加它。</span><span class="sxs-lookup"><span data-stu-id="11995-156">To do this, press the “add component” button and search for “diagnostics demo control script” then add it from the menu.</span></span> <span data-ttu-id="11995-157">此脚本可以添加到任何对象，但为简单起见，我们将其添加到与语音输入的处理程序相同的对象。</span><span class="sxs-lookup"><span data-stu-id="11995-157">This script can be added to any object, but for simplicity, we will add it to the same object as the speech input handler.</span></span> 

   > <span data-ttu-id="11995-158">注意： 此脚本是仅包含在这些模块，则不包含与原始 MRTK。</span><span class="sxs-lookup"><span data-stu-id="11995-158">Note: this script is only included with these modules and is not included with the original MRTK.</span></span>

![Lesson5 Chapter1 Step7im](images/Lesson5_chapter1_step7im.PNG)

8. <span data-ttu-id="11995-160">语音输入处理程序中添加一个新的响应。</span><span class="sxs-lookup"><span data-stu-id="11995-160">Add a new response in the Speech Input Handler.</span></span> <span data-ttu-id="11995-161">为此请单击"+"按钮下方中标"响应 （）"（标记在上图中的绿色箭头）。</span><span class="sxs-lookup"><span data-stu-id="11995-161">To do this click the “+” button underneath where it says “response ()” (marked by green arrow in the picture above).</span></span>

![Lesson5 Chapter1 Step7im](images/Lesson5_chapter1_step8.PNG)

9. <span data-ttu-id="11995-163">将具有到在步骤 8 中创建新响应诊断演示控件脚本的对象。</span><span class="sxs-lookup"><span data-stu-id="11995-163">Drag the object that has the Diagnostics Demo Controls script to the new response you just created in step 8.</span></span>
    <span data-ttu-id="11995-164">![Lesson5 Chapter1 Step9im](images/Lesson5_chapter1_step9im.PNG)</span><span class="sxs-lookup"><span data-stu-id="11995-164">![Lesson5 Chapter1 Step9im](images/Lesson5_chapter1_step9im.PNG)</span></span>

10. <span data-ttu-id="11995-165">现在选择"函数"下拉列表中，选择诊断演示控件，然后"上切换诊断 （）。"</span><span class="sxs-lookup"><span data-stu-id="11995-165">Now select the “no function” dropdown list, select diagnostic demo controls, then “on toggle diagnostics ().”</span></span> <span data-ttu-id="11995-166">此函数来开启和关闭你的诊断。</span><span class="sxs-lookup"><span data-stu-id="11995-166">This function toggles your diagnostics on and off.</span></span>  ![Lesson5 第 1 章 Step10im](images/Lesson5_chapter1_step10im.PNG)
    
> <span data-ttu-id="11995-168">请注意，向你的设备生成前你需要启用 mic 设置。</span><span class="sxs-lookup"><span data-stu-id="11995-168">Note that before building to your device you need to enable mic settings.</span></span> <span data-ttu-id="11995-169">若要执行该单击文件，转到生成设置，从此处，播放机设置，并确保设置麦克风的功能。</span><span class="sxs-lookup"><span data-stu-id="11995-169">To do that click on file, go to build settings, from there, player settings, and ensure the microphone capability is set.</span></span>

<span data-ttu-id="11995-170">接下来，我们将添加播放语音命令使用"八"对象中的音频文件。</span><span class="sxs-lookup"><span data-stu-id="11995-170">Next, we are adding the ability to play an audio file from voice command using the "octa" object.</span></span> <span data-ttu-id="11995-171">还记得[第 4 课](mrlearning-base-ch4.md)，我们添加了播放音频剪辑不接触八对象。</span><span class="sxs-lookup"><span data-stu-id="11995-171">Recall from [lesson 4](mrlearning-base-ch4.md), we added the ability to play an audio clip from touching the octa object.</span></span> <span data-ttu-id="11995-172">我们将为我们音乐的语音命令来利用此相同的音频源。</span><span class="sxs-lookup"><span data-stu-id="11995-172">We will leverage this same audio source for our music voice command.</span></span>

11. <span data-ttu-id="11995-173">在基本场景的层次结构中选择的八对象。</span><span class="sxs-lookup"><span data-stu-id="11995-173">Select the octa object in the base scene hierarchy.</span></span>

12. <span data-ttu-id="11995-174">添加另一个语音输入处理程序 （重复执行步骤 4 和 5)，但与八对象。</span><span class="sxs-lookup"><span data-stu-id="11995-174">Add another speech input handler (repeat steps 4 and 5), but with the octa object.</span></span> 

13. <span data-ttu-id="11995-175">而不是从第 6 步中添加"切换诊断"语音命令，添加"播放音乐"语音命令，如下图中所示。</span><span class="sxs-lookup"><span data-stu-id="11995-175">Instead of adding the “Toggle Diagnostics” voice command from step 6, add the “play music” voice command, as shown in the image below.</span></span>
    
     ![Lesson5 第 1 章 Step13im](images/Lesson5_chapter1_step13im.PNG)
    
    
    
14. <span data-ttu-id="11995-177">与步骤 8 和 9，添加一个新的响应，并且将八拖到空槽上响应。</span><span class="sxs-lookup"><span data-stu-id="11995-177">As with steps 8 and 9, add a new response, and drag the octa to the empty slot on response.</span></span>

15. <span data-ttu-id="11995-178">选择下拉菜单中显示"没有函数"，选择"音频源，"然后选择"PlayOneShot (AudioClip)。"</span><span class="sxs-lookup"><span data-stu-id="11995-178">Select the dropdown menu that says “no function," select “Audio Source,” then select “PlayOneShot (AudioClip).”</span></span>

![Lesson5 第 1 章 Step15im](images/Lesson5_chapter1_step15im.PNG)

16. <span data-ttu-id="11995-180">音频剪辑，此示例中我们将使用从相同的音频剪辑[第 4 课](mrlearning-base-ch4.md)。</span><span class="sxs-lookup"><span data-stu-id="11995-180">For the audio clip, for this example we are going to use the same audio clip from [Lesson 4](mrlearning-base-ch4.md).</span></span> <span data-ttu-id="11995-181">转到项目面板，搜索"MRTK_Gem"音频剪辑并将其拖到音频源槽，如下图中所示。</span><span class="sxs-lookup"><span data-stu-id="11995-181">Go into your project panel, search for “MRTK_Gem” audio clip and drag it into the audio source slot, as shown in the image below.</span></span> <span data-ttu-id="11995-182">现在，你的应用程序应该能够响应语音命令"切换诊断"以切换帧速率计数器面板和"播放音乐"播放 MRTK_Gem 歌曲。</span><span class="sxs-lookup"><span data-stu-id="11995-182">Now your application should be able to respond to the voice commands “toggle diagnostics” to toggle the frame rate counter panel and “play music” to play the MRTK_Gem song.</span></span>
     <span data-ttu-id="11995-183">![Lesson5 第 1 章 Step16im](images/Lesson5_chapter1_step16im.PNG)</span><span class="sxs-lookup"><span data-stu-id="11995-183">![Lesson5 Chapter1 Step16im](images/Lesson5_chapter1_step16im.PNG)</span></span>


### <a name="the-pan-gesture"></a><span data-ttu-id="11995-184">平移手势</span><span class="sxs-lookup"><span data-stu-id="11995-184">The Pan Gesture</span></span> 

<span data-ttu-id="11995-185">在本章中，我们将了解如何使用平移手势。</span><span class="sxs-lookup"><span data-stu-id="11995-185">In this chapter, we will learn how to use the pan gesture.</span></span> <span data-ttu-id="11995-186">它可用于滚动 （使用手指或手动滚动浏览内容。）此外可以使用平移手势来旋转对象，若要循环三维对象或甚至滚动 2D UI 的集合。</span><span class="sxs-lookup"><span data-stu-id="11995-186">It’s useful for scrolling (using your finger or hand to scroll through content.) You can also use the pan gesture to rotate objects, to cycle through a collection of 3D objects, or even scroll a 2D UI.</span></span> <span data-ttu-id="11995-187">我们将学习如何使用平移手势 warp 纹理。</span><span class="sxs-lookup"><span data-stu-id="11995-187">We will be learning how to use the pan gesture to warp a texture.</span></span> <span data-ttu-id="11995-188">我们将探讨如何移动三维对象的集合。</span><span class="sxs-lookup"><span data-stu-id="11995-188">We will also explore how to move a collection of 3D objects.</span></span>

1. <span data-ttu-id="11995-189">创建四。</span><span class="sxs-lookup"><span data-stu-id="11995-189">Create a quad.</span></span> <span data-ttu-id="11995-190">在基本场景层次结构中，右键单击，选择"3D 对象，"然后选择"四。"</span><span class="sxs-lookup"><span data-stu-id="11995-190">In your base scene hierarchy, right click, select “3D Object,” then select “Quad.”</span></span>

![Lesson5 第 2 章 Step2im](images/Lesson5_chapter2_step2im.PNG)

2. <span data-ttu-id="11995-192">根据需要四会重新定位。</span><span class="sxs-lookup"><span data-stu-id="11995-192">Reposition the quad as appropriate.</span></span> <span data-ttu-id="11995-193">对于本示例中，我们将设置 x = 0，y = 0 和 z = 1.5 开照相机的 HoloLens 2 中的合适位置。</span><span class="sxs-lookup"><span data-stu-id="11995-193">For our example, we set the x = 0, the y = 0 and the z = 1.5 away from the camera for a comfortable position from the HoloLens 2.</span></span>

   > <span data-ttu-id="11995-194">注意：如果四块 （为 infront 的） 任何内容从前面的课程，一定要将其移动，以便它不会阻止任何其他对象。</span><span class="sxs-lookup"><span data-stu-id="11995-194">Note: If the quad blocks (is infront of) any content from the previous lessons, be sure to move it such that it doesn’t block any of the other objects.</span></span>

3. <span data-ttu-id="11995-195">适用于四核的材料。</span><span class="sxs-lookup"><span data-stu-id="11995-195">Apply a material to the quad.</span></span> <span data-ttu-id="11995-196">本材料将是我们将使用平移手势滚动的材料。</span><span class="sxs-lookup"><span data-stu-id="11995-196">This material will be the material we will be scrolling through with the pan gesture.</span></span> 

![Lesson5 第 2 章 Step3im](images/Lesson5_chapter2_step3im.PNG)

4. <span data-ttu-id="11995-198">在将项目面板中，键入在搜索框"平铺内容。</span><span class="sxs-lookup"><span data-stu-id="11995-198">In your projects panel, type in the search box “pan content.”</span></span> <span data-ttu-id="11995-199">将该材料拖到您的场景中四。</span><span class="sxs-lookup"><span data-stu-id="11995-199">Drag that material on to the quad in your scene.</span></span> 

> <span data-ttu-id="11995-200">注意："平移内容"材料不包含在 MRTK，但它是此模块的资产包中的资产，如在前面的课程中导入。</span><span class="sxs-lookup"><span data-stu-id="11995-200">Note: The "Pan content" material is not included in the MRTK, but it is an asset in this module's asset package, as imported in previous lessons.</span></span> 

> <span data-ttu-id="11995-201">注意：当添加平铺内容时，它可能看起来外延式。</span><span class="sxs-lookup"><span data-stu-id="11995-201">Note: When you add the pan content, it may look stretched.</span></span> <span data-ttu-id="11995-202">通过调整 x，y 和 z 值的四核大小的值，直到它的外观满意，可以解决此问题。</span><span class="sxs-lookup"><span data-stu-id="11995-202">You can fix this by adjusting the values x, y and z values of the size of the quad until you are satisfied with the way it looks.</span></span>

<span data-ttu-id="11995-203">若要使用平移手势，将你的对象需要一个碰撞体。</span><span class="sxs-lookup"><span data-stu-id="11995-203">To use the pan gesture, you will need a collider on your object.</span></span> <span data-ttu-id="11995-204">您可能会看到四已有一个网格碰撞体。</span><span class="sxs-lookup"><span data-stu-id="11995-204">You may see the quad already has a mesh collider.</span></span> <span data-ttu-id="11995-205">但是，网格碰撞体并不理想，因为它是极其精简且难以进行选择。</span><span class="sxs-lookup"><span data-stu-id="11995-205">However, the mesh collider is not ideal, because it is extremely thin and difficult to select.</span></span> <span data-ttu-id="11995-206">我们建议使用盒状碰撞体替换网格碰撞体。</span><span class="sxs-lookup"><span data-stu-id="11995-206">We suggest replacing the mesh collider with a box collider.</span></span>

5. <span data-ttu-id="11995-207">右键单击网格碰撞器上四 （在检查器面板中），然后单击"删除组件"。 将其删除</span><span class="sxs-lookup"><span data-stu-id="11995-207">Right click the mesh collider that’s on the quad (in the inspector panel) then remove it by clicking “remove component.”</span></span> 
   <span data-ttu-id="11995-208">![Lesson5 第 2 章 Step5im](images/Lesson5_chapter2_step5im.PNG)</span><span class="sxs-lookup"><span data-stu-id="11995-208">![Lesson5 Chapter2 Step5im](images/Lesson5_chapter2_step5im.PNG)</span></span>

6. <span data-ttu-id="11995-209">现在将盒状碰撞体添加通过单击"添加组件"并搜索"框的碰撞体"。</span><span class="sxs-lookup"><span data-stu-id="11995-209">Now add the box collider by clicking “add component” and searching “box collider.”</span></span> <span data-ttu-id="11995-210">默认值添加盒状碰撞体仍是不可过于省略，因此，单击"编辑碰撞体"按钮以对其进行编辑。</span><span class="sxs-lookup"><span data-stu-id="11995-210">The default added box collider is still too thin, so click the “edit collider” button to edit it.</span></span> <span data-ttu-id="11995-211">在按下它时，可以调整在场景编辑器中使用 x、 y 和 z 值或元素的大小。</span><span class="sxs-lookup"><span data-stu-id="11995-211">When it’s pressed in, you can adjust the size using the x, y and z values or the elements in the scene editor.</span></span> <span data-ttu-id="11995-212">对于本示例中，我们想要后面四稍有扩展盒状碰撞体。</span><span class="sxs-lookup"><span data-stu-id="11995-212">For our example, we want to extend the box collider a little behind the quad.</span></span> <span data-ttu-id="11995-213">在场景编辑器中，从后，向外应用 （请参阅下图） 将盒状碰撞体。</span><span class="sxs-lookup"><span data-stu-id="11995-213">In the scene editor, drag the box collider from the back, outwards (see the image below).</span></span> <span data-ttu-id="11995-214">这将执行的操作是允许用户不仅使用他们的手指，但其整个手动滚动。</span><span class="sxs-lookup"><span data-stu-id="11995-214">What this will do is allow the user to not only use their finger, but their entire hand to scroll.</span></span> 
    <span data-ttu-id="11995-215">![Lesson5 第 2 章 Step6im](images/Lesson5_chapter2_step6im.PNG)</span><span class="sxs-lookup"><span data-stu-id="11995-215">![Lesson5 Chapter2 Step6im](images/Lesson5_chapter2_step6im.PNG)</span></span>
7. <span data-ttu-id="11995-216">进行交互。</span><span class="sxs-lookup"><span data-stu-id="11995-216">Make it interactive.</span></span> <span data-ttu-id="11995-217">由于我们要与四直接进行交互，因此我们想要使用"附近可触摸交互"组件 （我们也使用这第 4 课中用于播放音乐从八）。</span><span class="sxs-lookup"><span data-stu-id="11995-217">Since we want to interact with the quad directly, we want to use the “near interaction touchable” component (we also used this in Lesson 4 for playing music from the octa).</span></span> <span data-ttu-id="11995-218">单击"添加组件"并搜索"附近的可触摸交互"并选择它，如以下图像中所示。</span><span class="sxs-lookup"><span data-stu-id="11995-218">Click “add component” and search for “near interaction touchable” and select it, as shown in the images below.</span></span> 

8. <span data-ttu-id="11995-219">添加识别平移手势的能力。</span><span class="sxs-lookup"><span data-stu-id="11995-219">Add the ability to recognize the pan gesture.</span></span> <span data-ttu-id="11995-220">单击"添加组件"，然后键入"分发交互平移。"</span><span class="sxs-lookup"><span data-stu-id="11995-220">Click “add component” and type “hand interaction pan.”</span></span> <span data-ttu-id="11995-221">必须手动 ray （允许您在远处平移） 和食指之间进行选择。</span><span class="sxs-lookup"><span data-stu-id="11995-221">You will have a choice between hand ray (allowing you to pan from a distance) and index finger.</span></span> <span data-ttu-id="11995-222">对于本例，请将其保留在索引手指。</span><span class="sxs-lookup"><span data-stu-id="11995-222">For this example, leave it at index finger.</span></span> 
    <span data-ttu-id="11995-223">![Lesson5 第 2 章 Step7 8Im](images/Lesson5_chapter2_step7-8im.PNG)</span><span class="sxs-lookup"><span data-stu-id="11995-223">![Lesson5 Chapter2 Step7 8Im](images/Lesson5_chapter2_step7-8im.PNG)</span></span>

![Lesson5 第 2 章 Step8im](images/Lesson5_chapter2_step8im.PNG)

9. <span data-ttu-id="11995-225">在手动交互平移脚本中，"lock 水平"和"lock 垂直"复选框将会锁定移动，分别。</span><span class="sxs-lookup"><span data-stu-id="11995-225">In the hand interaction pan script, the “lock horizontal” and “lock vertical” checkboxes will lock the movements, respectively.</span></span> <span data-ttu-id="11995-226">自动换行纹理设置将使纹理 （纹理映射） 按照用户的平移移动。</span><span class="sxs-lookup"><span data-stu-id="11995-226">The wrap texture settings will make the texture (texture mapping) follow the user's pan movements.</span></span> <span data-ttu-id="11995-227">对于此示例中，我们将选中此框。</span><span class="sxs-lookup"><span data-stu-id="11995-227">For this example, we are going to check that box.</span></span> <span data-ttu-id="11995-228">此外，还有"velocity active"的平移手势如果未选中，将无法工作。</span><span class="sxs-lookup"><span data-stu-id="11995-228">There is also “velocity active” which, if unchecked, the pan gesture will not work.</span></span> <span data-ttu-id="11995-229">选中此框以及。</span><span class="sxs-lookup"><span data-stu-id="11995-229">Check this box as well.</span></span> <span data-ttu-id="11995-230">现在，您应该启用平移的四核。</span><span class="sxs-lookup"><span data-stu-id="11995-230">Now you should have a pan-enabled quad.</span></span>

   

   <span data-ttu-id="11995-231">接下来，我们将了解如何向三维对象的平移。</span><span class="sxs-lookup"><span data-stu-id="11995-231">Next, we will learn how to pan 3D objects.</span></span> 

10. <span data-ttu-id="11995-232">右键单击四部分对象，选择三维对象，然后单击"多维数据集"。</span><span class="sxs-lookup"><span data-stu-id="11995-232">Right click the quad object, select 3D object then click “cube.”</span></span> <span data-ttu-id="11995-233">缩放多维数据集，以便它大约为 x = 0.1，y = 0.1 和 z = 0.1。</span><span class="sxs-lookup"><span data-stu-id="11995-233">Scale the cube so that it’s roughly x = 0.1, y = 0.1 and z = 0.1.</span></span> <span data-ttu-id="11995-234">复制该多维数据集 3 次 （通过右键单击多维数据集并按重复，或通过按下控件/命令 D）。</span><span class="sxs-lookup"><span data-stu-id="11995-234">Copy that cube 3 times (by right clicking the cube and pressing duplicate, or by pressing control/command D).</span></span> <span data-ttu-id="11995-235">它们彼此隔开均匀。</span><span class="sxs-lookup"><span data-stu-id="11995-235">Space them out evenly.</span></span> <span data-ttu-id="11995-236">您的场景应类似于下面的图片。</span><span class="sxs-lookup"><span data-stu-id="11995-236">Your scene should look similar to the picture below.</span></span>

![Lesson5 第 2 章 Step10im](images/Lesson5_chapter2_step10im.PNG)







11. <span data-ttu-id="11995-238">同样，选择四核和下手动交互平移脚本，我们想要的平移操作设置为每个多维数据集。</span><span class="sxs-lookup"><span data-stu-id="11995-238">Select the quad again, and under the hand interaction pan script, we want to set the pan actions to each of the cubes.</span></span> <span data-ttu-id="11995-239">"平移事件接收器"下，我们想要指定将接收事件的对象数。</span><span class="sxs-lookup"><span data-stu-id="11995-239">Under “pan event receivers” we want to specify the number of objects that are receiving the event.</span></span> <span data-ttu-id="11995-240">有 4 个多维数据集，因为类型"4"，然后按 enter。</span><span class="sxs-lookup"><span data-stu-id="11995-240">Since there are 4 cubes, type “4” and press enter.</span></span> <span data-ttu-id="11995-241">应显示 4 个空字段。</span><span class="sxs-lookup"><span data-stu-id="11995-241">4 empty fields should appear.</span></span>


![Lesson5 Chapter2 Step11im](images/Lesson5_chapter2_step11im.PNG)



12. <span data-ttu-id="11995-243">将每个中的多维数据集拖到每个空元素槽。</span><span class="sxs-lookup"><span data-stu-id="11995-243">Drag each of the cubes in to each of the empty element slots.</span></span>
     <span data-ttu-id="11995-244">![Lesson5 第 2 章 Step12im](images/Lesson5_chapter2_step12im.PNG)</span><span class="sxs-lookup"><span data-stu-id="11995-244">![Lesson5 Chapter2 Step12im](images/Lesson5_chapter2_step12im.PNG)</span></span>
    
13. <span data-ttu-id="11995-245">"与平移移动"脚本添加到所有多维数据集。</span><span class="sxs-lookup"><span data-stu-id="11995-245">Add the “move with pan” script to all of the cubes.</span></span> <span data-ttu-id="11995-246">若要执行此操作，按按住控制/命令，选择每个对象。</span><span class="sxs-lookup"><span data-stu-id="11995-246">To do this, press and hold control/command and select each object.</span></span> <span data-ttu-id="11995-247">然后，在检查器窗格中，单击"添加组件"并搜索"移动且使用 pan。"</span><span class="sxs-lookup"><span data-stu-id="11995-247">Then, in the inspector panel, click “add component” and search for “move with pan.”</span></span> <span data-ttu-id="11995-248">单击该脚本，它将添加到每个多维数据集。</span><span class="sxs-lookup"><span data-stu-id="11995-248">Click the script and it will be added to each cube.</span></span> <span data-ttu-id="11995-249">现在将与平移手势移动三维对象 ！</span><span class="sxs-lookup"><span data-stu-id="11995-249">Now the 3D objects will move with your pan gesture!</span></span> <span data-ttu-id="11995-250">如果删除网格呈现上在四核，您现在应该可以漫游的三维对象的列表不可见的四核。</span><span class="sxs-lookup"><span data-stu-id="11995-250">If you remove the mesh render on your quad, you should now have an invisible quad where you can pan through a list of 3D objects.</span></span>

### <a name="eye-tracking"></a><span data-ttu-id="11995-251">眼睛追踪</span><span class="sxs-lookup"><span data-stu-id="11995-251">Eye Tracking</span></span>

<span data-ttu-id="11995-252">在本章中，我们将探索如何能够在我们的演示中的眼跟踪。</span><span class="sxs-lookup"><span data-stu-id="11995-252">In this chapter, we will explore how to enable eye tracking in our demo.</span></span> <span data-ttu-id="11995-253">它们正在 gazed 时与关注的视线移动时，我们将缓慢构建我们 3D 菜单项。</span><span class="sxs-lookup"><span data-stu-id="11995-253">We will slowly spin our 3D menu items when they are being gazed upon with eye gaze.</span></span> <span data-ttu-id="11995-254">我们也会触发一个有趣选择 gazed 时项时起作用。</span><span class="sxs-lookup"><span data-stu-id="11995-254">We will also trigger a fun effect when the gazed-upon item is selected.</span></span>

1. <span data-ttu-id="11995-255">请确保正确配置的混合现实工具包配置文件。</span><span class="sxs-lookup"><span data-stu-id="11995-255">Ensure the Mixed Reality Toolkit profiles are properly configured.</span></span> <span data-ttu-id="11995-256">在撰写本文时，混合的现实工具包配置文件配置不包括跟踪功能，默认情况下的关注。</span><span class="sxs-lookup"><span data-stu-id="11995-256">As of this writing, the mixed reality toolkit profile configuration does not include eye tracking capabilities by default.</span></span> <span data-ttu-id="11995-257">若要添加的眼跟踪功能，请按照"设置所需的眼跟踪 MRTK 配置文件"部分中的说明中所述[混合现实工具包文档](https://microsoft.github.io/MixedRealityToolkit-Unity/Documentation/EyeTracking/EyeTracking_BasicSetup.html#setting-up-the-mrtk-profiles-required-for-eye-tracking  )。</span><span class="sxs-lookup"><span data-stu-id="11995-257">To add eye tracking capabilities, follow the instructions in the “Setting up the MRTK profiles required for Eye Tracking” section as outlined in the [Mixed Reality Toolkit Documentation](https://microsoft.github.io/MixedRealityToolkit-Unity/Documentation/EyeTracking/EyeTracking_BasicSetup.html#setting-up-the-mrtk-profiles-required-for-eye-tracking  ).</span></span> <span data-ttu-id="11995-258">确保该的眼跟踪已正确配置文档上面的链接，包括启用 GazeProvider （附加到摄像机的组件） 中的眼跟踪和启用模拟的眼跟踪在 Unity 编辑器中的任何剩余步骤。</span><span class="sxs-lookup"><span data-stu-id="11995-258">Ensure that eye tracking is properly configured by following any remaining steps in the documentation link above, including enabling eye tracking in GazeProvider (component attached to camera) and enabling simulation of eye tracking in the Unity editor.</span></span> <span data-ttu-id="11995-259">请注意 MRTK 的未来版本可能包括默认情况下的眼跟踪。</span><span class="sxs-lookup"><span data-stu-id="11995-259">Note that future version of the MRTK may include eye tracking by default.</span></span>

    <span data-ttu-id="11995-260">上面的链接提供有关的简要说明：</span><span class="sxs-lookup"><span data-stu-id="11995-260">The link above provides brief instructions for:</span></span>

    - <span data-ttu-id="11995-261">创建关注注视数据提供程序用于在 MRTK 配置文件中</span><span class="sxs-lookup"><span data-stu-id="11995-261">Creating the Eye Gaze Data Provider for use in the MRTK Profile</span></span>
    - <span data-ttu-id="11995-262">启用对此提供程序中的眼跟踪</span><span class="sxs-lookup"><span data-stu-id="11995-262">Enabling eye tracking in the Gaze Provider</span></span>
    - <span data-ttu-id="11995-263">用于模拟的眼跟踪在编辑器中设置</span><span class="sxs-lookup"><span data-stu-id="11995-263">Set up for simulating eye tracking in the editor</span></span>
    - <span data-ttu-id="11995-264">编辑 Visual Studio 解决方案的功能，以便在生成的应用程序中的眼跟踪</span><span class="sxs-lookup"><span data-stu-id="11995-264">Editing the Visual Studio solution's capabilities to allow eye tracking in the built application</span></span>

2. <span data-ttu-id="11995-265">将关注跟踪目标组件添加到目标对象。</span><span class="sxs-lookup"><span data-stu-id="11995-265">Add the Eye Tracking Target component to target objects.</span></span> <span data-ttu-id="11995-266">若要允许对关注的视线移动事件做出响应的对象，我们将需要将 EyeTrackingTarget 组件添加我们想要与使用关注的视线移动进行交互的每个对象。</span><span class="sxs-lookup"><span data-stu-id="11995-266">To allow an object to respond to eye gaze events, we will need to add the EyeTrackingTarget component on each object that we wish to interact with using eye gaze.</span></span> <span data-ttu-id="11995-267">将此组件添加到每个网格集合的一部分的九个三维对象。</span><span class="sxs-lookup"><span data-stu-id="11995-267">Add this component to each of the nine 3D objects that are part of the grid collection.</span></span> <span data-ttu-id="11995-268">提示： 若要批量添加 EyeTrackingTarget 组件在层次结构中选择多个项。</span><span class="sxs-lookup"><span data-stu-id="11995-268">Tip: select multiple items in the hierarchy to bulk-add the EyeTrackingTarget component.</span></span>
    <span data-ttu-id="11995-269">![Lesson5 第 3 章步骤 2](images/Lesson5Chapter3Step2.JPG)</span><span class="sxs-lookup"><span data-stu-id="11995-269">![Lesson5 Chapter3 Step2](images/Lesson5Chapter3Step2.JPG)</span></span>

3. <span data-ttu-id="11995-270">接下来我们将添加一些令人兴奋的交互的 EyeTrackingTutorialDemo 脚本。</span><span class="sxs-lookup"><span data-stu-id="11995-270">Next we will add the EyeTrackingTutorialDemo script for some exciting interactions.</span></span> <span data-ttu-id="11995-271">EyeTrackingTutorialDemo 脚本是作为本教程系列的存储库的一部分，并且不包含默认情况下使用混合现实工具包。</span><span class="sxs-lookup"><span data-stu-id="11995-271">The EyeTrackingTutorialDemo script is included as part of this tutorial series’ repository and is not included by default with the Mixed Reality Toolkit.</span></span> <span data-ttu-id="11995-272">对于网格集合中每个三维对象，通过搜索"添加组件"菜单中的组件中添加 EyeTrackingTutorialDemo 脚本。</span><span class="sxs-lookup"><span data-stu-id="11995-272">For each 3D object in the grid collection, add the EyeTrackingTutorialDemo script by searching for the component in the “Add Component” menu.</span></span>
   <span data-ttu-id="11995-273">![Lesson5 第 3 章步骤 3](images/Lesson5Chapter3Step3.JPG)</span><span class="sxs-lookup"><span data-stu-id="11995-273">![Lesson5 Chapter3 Step3](images/Lesson5Chapter3Step3.JPG)</span></span>

   4. <span data-ttu-id="11995-274">查看目标的同时旋转对象。</span><span class="sxs-lookup"><span data-stu-id="11995-274">Spin the object while looking at the target.</span></span> <span data-ttu-id="11995-275">我们想要配置启动时我们看一下我们三维对象。</span><span class="sxs-lookup"><span data-stu-id="11995-275">We would like to configure our 3D object to spin while we are looking at it.</span></span> <span data-ttu-id="11995-276">若要执行此操作，插入一个新域 EyeTrackingTarget 组件的"时查找在目标"部分中，如下图中所示。</span><span class="sxs-lookup"><span data-stu-id="11995-276">To do this, insert a new field in the “While Looking At Target” section of the EyeTrackingTarget component, as shown in the image below.</span></span> 

<span data-ttu-id="11995-277">![Lesson5 第 3 章 Step4a](images/Lesson5Chapter3Step4a.JPG)
![Lesson5 第 3 章 Step4b](images/Lesson5Chapter3Step4b.JPG)</span><span class="sxs-lookup"><span data-stu-id="11995-277">![Lesson5 Chapter3 Step4a](images/Lesson5Chapter3Step4a.JPG)
![Lesson5 Chapter3 Step4b](images/Lesson5Chapter3Step4b.JPG)</span></span>



<span data-ttu-id="11995-278">在新创建的字段，将当前的游戏对象添加到空的字段，并选择 EyeTrackingTutorialDemo > RotateTarget() 中如下图所示。</span><span class="sxs-lookup"><span data-stu-id="11995-278">In newly created field, add the current Game Object to the empty field, and select EyeTrackingTutorialDemo > RotateTarget() as shown in the image below.</span></span> <span data-ttu-id="11995-279">现在三维对象已配置为启动时它正在 gazed 时具有眼跟踪。</span><span class="sxs-lookup"><span data-stu-id="11995-279">Now the 3D object is configured to spin when it is being gazed upon with eye tracking.</span></span> 

5. <span data-ttu-id="11995-280">将功能添加到"故障目标"，在正在 gazed 时选择 （敲击，或说"选择"）。</span><span class="sxs-lookup"><span data-stu-id="11995-280">Add in ability to “blip target” that is being gazed at upon select (air-tap, or saying “select”).</span></span> <span data-ttu-id="11995-281">类似于第 4 步，我们要触发 EyeTrackingTutorialDemo > BlipTarget() 将其分配给 EyeTrackingTarget 分量的游戏对象的"select （）"字段中，如下图中所示。</span><span class="sxs-lookup"><span data-stu-id="11995-281">Similar to Step 4, we want to trigger EyeTrackingTutorialDemo > BlipTarget() by assigning it to the Game Object’s “Select()” field of the EyeTrackingTarget component, as shown in the figure below.</span></span> <span data-ttu-id="11995-282">与此现已配置，你会注意到游戏对象时触发的选择操作，如空气点击或语音命令中稍有故障"选择。"</span><span class="sxs-lookup"><span data-stu-id="11995-282">With this now configured, you will notice a slight blip in the game object whenever you trigger a select action, such as air-tap or the voice command “select.”</span></span> 
    <span data-ttu-id="11995-283">![Lesson5 第 3 章步骤 5](images/Lesson5Chapter3Step5.JPG)</span><span class="sxs-lookup"><span data-stu-id="11995-283">![Lesson5 Chapter3 Step5](images/Lesson5Chapter3Step5.JPG)</span></span>
6. <span data-ttu-id="11995-284">请确保为 HoloLens 2 生成前正确配置了密切关注的跟踪功能。</span><span class="sxs-lookup"><span data-stu-id="11995-284">Ensure eye tracking capabilities are properly configured before building to HoloLens 2.</span></span> <span data-ttu-id="11995-285">在撰写本文时，Unity 尚没有设置提供注视输入 （适用于眼睛跟踪） 功能的能力。</span><span class="sxs-lookup"><span data-stu-id="11995-285">As of this writing, Unity does not yet have the ability to set the gaze input (for eye tracking) capability.</span></span> <span data-ttu-id="11995-286">设置此功能是必需的眼跟踪 HoloLens 2 上工作。</span><span class="sxs-lookup"><span data-stu-id="11995-286">Setting this capability is required for eye tracking to work on the HoloLens 2.</span></span> <span data-ttu-id="11995-287">按照以下说明在混合的现实工具包文档以启用注视输入的功能： https://microsoft.github.io/MixedRealityToolkit-Unity/Documentation/EyeTracking/EyeTracking_BasicSetup.html#testing-your-unity-app-on-a-hololens-2</span><span class="sxs-lookup"><span data-stu-id="11995-287">Follow these instructions on the mixed reality toolkit documentation to enable the gaze input capability: https://microsoft.github.io/MixedRealityToolkit-Unity/Documentation/EyeTracking/EyeTracking_BasicSetup.html#testing-your-unity-app-on-a-hololens-2</span></span> 


### <a name="congratulations"></a><span data-ttu-id="11995-288">祝贺你！</span><span class="sxs-lookup"><span data-stu-id="11995-288">Congratulations!</span></span> 
<span data-ttu-id="11995-289">已成功添加到应用程序跟踪功能的基本关注。</span><span class="sxs-lookup"><span data-stu-id="11995-289">You’ve successfully added basic eye tracking capabilities to the application.</span></span> <span data-ttu-id="11995-290">这些操作是仅使用的眼跟踪，提供了可能的开头。</span><span class="sxs-lookup"><span data-stu-id="11995-290">These actions are only the beginning of a world of possibilities with eye tracking.</span></span> <span data-ttu-id="11995-291">本章还得出结论第 5 课，其中我们介绍了高级输入功能，例如语音命令平移手势，并密切关注跟踪。</span><span class="sxs-lookup"><span data-stu-id="11995-291">This chapter also concludes lesson 5, where we learned about advanced input functionality such as voice commands, panning gestures, and eye tracking.</span></span> 

[<span data-ttu-id="11995-292">下一课：农历模块程序集示例体验</span><span class="sxs-lookup"><span data-stu-id="11995-292">Next Lesson: Lunar Module Assembly Sample Experience</span></span>](mrlearning-base-ch6.md)

