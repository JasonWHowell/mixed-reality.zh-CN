---
title: 使用 Unity 使用 Vuforia
description: 利用 Vuforia 构建在 Unity 中的 Windows Mixed Reality 应用程序。
author: ChimeraScorn
ms.author: cwhite
ms.date: 03/21/2018
ms.topic: article
keywords: Vuforia，标记、 坐标、 参考框架跟踪
ms.openlocfilehash: 43a74989b931fee898af0aeae9e240303b2eef01
ms.sourcegitcommit: 384b0087899cd835a3a965f75c6f6c607c9edd1b
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 04/12/2019
ms.locfileid: "59592630"
---
# <a name="using-vuforia-engine-with-unity"></a><span data-ttu-id="681b5-104">使用 Unity 使用 Vuforia 引擎</span><span class="sxs-lookup"><span data-stu-id="681b5-104">Using Vuforia Engine with Unity</span></span>

<span data-ttu-id="681b5-105">Vuforia 引擎到 HoloLens 可以让一个重要功能 – 能够连接 AR 体验添加到特定的映像和在环境中的对象。</span><span class="sxs-lookup"><span data-stu-id="681b5-105">Vuforia Engine brings an important capability to HoloLens – the power to connect AR experiences to specific images and objects in the environment.</span></span> <span data-ttu-id="681b5-106">此功能可用于覆盖引导式的分步说明，工业企业个机制之上或向物理产品或游戏中添加数字功能和体验。</span><span class="sxs-lookup"><span data-stu-id="681b5-106">You can use this capability to overlay guided step-by-step instructions on top of machinery for the industrial enterprise or add digital features and experiences to a physical product or game.</span></span> 

<span data-ttu-id="681b5-107">对于更大的灵活性开发 AR 遇到时 Vuforia 引擎提供了广泛的特征和目标。</span><span class="sxs-lookup"><span data-stu-id="681b5-107">For greater flexibility when developing AR experiences, Vuforia Engine offers a broad range of features and targets.</span></span> <span data-ttu-id="681b5-108">我们最新功能，Vuforia 模型目标之一是商业和工业使用一项关键能力。</span><span class="sxs-lookup"><span data-stu-id="681b5-108">One of our newest features, Vuforia Model Targets, is a key capability for both commercial and industrial uses.</span></span> <span data-ttu-id="681b5-109">模型目标，应用程序来识别物理对象，例如计算机、 汽车或玩具和跟踪这些基于 CAD 或数字的三维模型。</span><span class="sxs-lookup"><span data-stu-id="681b5-109">Model Targets allow applications to recognize physical objects like machines, automobiles or toys and track them based on a CAD or digital 3D model.</span></span> <span data-ttu-id="681b5-110">有关工业用法，此功能可以提供程序集辅助角色和服务技术人员与 AR 工作的说明和工厂中的过程指导或 out 字段中。</span><span class="sxs-lookup"><span data-stu-id="681b5-110">For industrial uses, this feature can provide assembly workers and service technicians with AR work instructions and procedural guidance while in the factory or out in the field.</span></span> 

<span data-ttu-id="681b5-111">在 HoloLens 上运行的 Unity 中可以轻松地配置现有 Vuforia 引擎生成的应用程序适用于手机和平板电脑。</span><span class="sxs-lookup"><span data-stu-id="681b5-111">Existing Vuforia Engine apps that were built for phones and tablets can easily be configured in Unity to run on HoloLens.</span></span> <span data-ttu-id="681b5-112">您甚至可以使用 Vuforia 引擎以使新 HoloLens 应用上升到如 Surface Pro 4 和 Surface Book 的 Windows 10 平板电脑。</span><span class="sxs-lookup"><span data-stu-id="681b5-112">You can even use Vuforia Engine to take your new HoloLens app to Windows 10 tablets such as the Surface Pro 4 and Surface Book.</span></span>

## <a name="get-the-tools"></a><span data-ttu-id="681b5-113">获取工具</span><span class="sxs-lookup"><span data-stu-id="681b5-113">Get the tools</span></span>

<span data-ttu-id="681b5-114">[安装推荐的版本](install-the-tools.md)的 Visual Studio 和 Unity，然后配置 Unity 使用 Visual Studio 和首选的 IDE 和编译器。</span><span class="sxs-lookup"><span data-stu-id="681b5-114">[Install the recommended versions](install-the-tools.md) of Visual Studio and Unity and then configure Unity to use Visual Studio and the preferred IDE and compiler.</span></span> 

<span data-ttu-id="681b5-115">在安装 Unity 时，请务必安装"Windows 应用商店.NET 脚本编写后端"或"Windows 应用商店 IL2CPP 脚本编写后端"。</span><span class="sxs-lookup"><span data-stu-id="681b5-115">When installing Unity, be sure to install either the “Windows Store .NET Scripting Backend” or the “Windows Store IL2CPP Scripting Backend”.</span></span> <span data-ttu-id="681b5-116">此外，请确保选择"Vuforia 增强现实支持"若要启用在 Unity 中 Vuforia 引擎。</span><span class="sxs-lookup"><span data-stu-id="681b5-116">Also, be sure to select “Vuforia Augmented Reality Support” to enable Vuforia Engine within Unity.</span></span>


## <a name="getting-started-with-vuforia-engine"></a><span data-ttu-id="681b5-117">Vuforia 引擎入门</span><span class="sxs-lookup"><span data-stu-id="681b5-117">Getting started with Vuforia Engine</span></span>

<span data-ttu-id="681b5-118">由于 Vuforia 引擎集成到 Unity 中，因此开发人员无需下载或安装任何额外的工具。</span><span class="sxs-lookup"><span data-stu-id="681b5-118">Since Vuforia Engine is integrated into Unity, developers don’t need to download or install any extra tools.</span></span> <span data-ttu-id="681b5-119">建议使用的版本是 unity 的目前在 2017.3，包含 Vuforia 引擎 7.0.57 的 LTS 流。</span><span class="sxs-lookup"><span data-stu-id="681b5-119">The recommended version of Unity is the LTS stream which is currently at 2017.3 and includes Vuforia Engine 7.0.57.</span></span> <span data-ttu-id="681b5-120">学习有关使用和 HoloLens Vuforia 引擎使用的效果最佳起始点[Vuforia 引擎 HoloLens 示例](https://assetstore.unity.com/packages/templates/packs/vuforia-hololens-sample-101553)（Unity 资产商店中提供）。</span><span class="sxs-lookup"><span data-stu-id="681b5-120">The best starting point for learning about using Vuforia Engine with HoloLens is with the [Vuforia Engine HoloLens sample](https://assetstore.unity.com/packages/templates/packs/vuforia-hololens-sample-101553) (available in the Unity Asset Store).</span></span> <span data-ttu-id="681b5-121">此示例提供了完整的 HoloLens 项目包括预配置可以部署到 HoloLens 的场景。</span><span class="sxs-lookup"><span data-stu-id="681b5-121">The sample provides a complete HoloLens project including pre-configured scenes that can be deployed to a HoloLens.</span></span>

<span data-ttu-id="681b5-122">在后台显示如何使用 Vuforia 映像目标来识别图像并针对它讨论了 HoloLens 体验中的数字内容。</span><span class="sxs-lookup"><span data-stu-id="681b5-122">The scenes show how to use Vuforia Image Targets to recognize an image and augment it with digital content in a HoloLens experience.</span></span> <span data-ttu-id="681b5-123">使用 Unity 和 Vuforia 的较新版本的开发人员有权访问更新的示例包括 HoloLens 上显示的模型目标使用情况的场景。</span><span class="sxs-lookup"><span data-stu-id="681b5-123">Developers using more recent versions of Unity and Vuforia have access to updated samples which include a scene showing the usage of Model Targets on HoloLens.</span></span> <span data-ttu-id="681b5-124">您可以轻松地替换中在后台，尝试将其与 HoloLens 应用使用 Vuforia 引擎创建您自己的内容。</span><span class="sxs-lookup"><span data-stu-id="681b5-124">You can easily substitute your own content in the scenes to experiment with the creation of HoloLens apps that use Vuforia Engine.</span></span>


## <a name="configuring-a-vuforia-app-for-hololens"></a><span data-ttu-id="681b5-125">配置用于 HoloLens 的 Vuforia 应用程序</span><span class="sxs-lookup"><span data-stu-id="681b5-125">Configuring a Vuforia App for HoloLens</span></span>

<span data-ttu-id="681b5-126">对于 HoloLens 开发 Vuforia 引擎应用程序是从根本上与开发 Vuforia 引擎的其他设备的应用程序相同。</span><span class="sxs-lookup"><span data-stu-id="681b5-126">Developing a Vuforia Engine app for HoloLens is fundamentally the same as developing Vuforia Engine apps for other devices.</span></span> <span data-ttu-id="681b5-127">然后可以应用的生成设置和配置下面的部分中所述。</span><span class="sxs-lookup"><span data-stu-id="681b5-127">You can then apply the build settings and configurations described in the section below.</span></span> <span data-ttu-id="681b5-128">这就是启用对使用 HoloLens 空间映射和位置跟踪系统 Vuforia 引擎所需的一切。</span><span class="sxs-lookup"><span data-stu-id="681b5-128">That’s all that’s needed to enable Vuforia Engine to work with the HoloLens spatial mapping and positional tracking systems.</span></span>

## <a name="build-and-run-the-vuforia-engine-sample-for-hololens"></a><span data-ttu-id="681b5-129">生成并运行 HoloLens Vuforia 引擎示例</span><span class="sxs-lookup"><span data-stu-id="681b5-129">Build and Run the Vuforia Engine Sample for HoloLens</span></span>
1.  <span data-ttu-id="681b5-130">下载[HoloLens 的 Vuforia 引擎示例](https://assetstore.unity.com/packages/templates/packs/vuforia-hololens-sample-101553)从 Unity 资产商店</span><span class="sxs-lookup"><span data-stu-id="681b5-130">Download the [Vuforia Engine Sample for HoloLens](https://assetstore.unity.com/packages/templates/packs/vuforia-hololens-sample-101553) from the Unity Asset Store</span></span>
2.  <span data-ttu-id="681b5-131">将应用[建议能力和性能的 Unity 引擎选项](performance-recommendations-for-unity.md)</span><span class="sxs-lookup"><span data-stu-id="681b5-131">Apply the [recommended Unity engine options for power and performance](performance-recommendations-for-unity.md)</span></span>
3.  <span data-ttu-id="681b5-132">将示例场景添加到生成中的场景。</span><span class="sxs-lookup"><span data-stu-id="681b5-132">Add the sample scenes to Scenes in Build.</span></span>
4.  <span data-ttu-id="681b5-133">在文件中的"通用 Windows 平台"设置你的平台生成目标 > 生成设置。</span><span class="sxs-lookup"><span data-stu-id="681b5-133">Set your platform build target for “Universal Windows Platform” in File > Build Settings.</span></span>
5.  <span data-ttu-id="681b5-134">选择以下平台生成配置设置：</span><span class="sxs-lookup"><span data-stu-id="681b5-134">Select the following platform build configuration settings:</span></span> 
   * <span data-ttu-id="681b5-135">针对设备 = HoloLens</span><span class="sxs-lookup"><span data-stu-id="681b5-135">Target Device = HoloLens</span></span>
   * <span data-ttu-id="681b5-136">生成类型 = D3D</span><span class="sxs-lookup"><span data-stu-id="681b5-136">Build Type = D3D</span></span>
   * <span data-ttu-id="681b5-137">SDK = 最新安装</span><span class="sxs-lookup"><span data-stu-id="681b5-137">SDK = Latest Installed</span></span>
   * <span data-ttu-id="681b5-138">Visual Studio 版本 = 最新安装</span><span class="sxs-lookup"><span data-stu-id="681b5-138">Visual Studio Version = Latest Installed</span></span>
   * <span data-ttu-id="681b5-139">生成并运行在 = 本地计算机</span><span class="sxs-lookup"><span data-stu-id="681b5-139">Build and Run on = Local Machine</span></span>
6.  <span data-ttu-id="681b5-140">定义的唯一**产品名称**，在**播放器设置**，作为在 HoloLens 上安装时应用的名称。</span><span class="sxs-lookup"><span data-stu-id="681b5-140">Define a unique **Product Name**, in **Player Settings**, to serve as the name of the app when installed on the HoloLens.</span></span>
7.  <span data-ttu-id="681b5-141">检查**Vuforia 增强现实**并**支持的虚拟现实**中**播放器设置 > XR 设置**</span><span class="sxs-lookup"><span data-stu-id="681b5-141">Check **Vuforia Augmented Reality** and **Virtual Reality Supported** in **Player Settings > XR Settings**</span></span>
8.  <span data-ttu-id="681b5-142">此外，在**XR 设置**，请确保"Windows Mixed Reality"添加到**虚拟现实 Sdk**列表</span><span class="sxs-lookup"><span data-stu-id="681b5-142">Also under **XR Settings**, make sure that “Windows Mixed Reality” is added to the **Virtual Reality SDKs** List</span></span>
9.  <span data-ttu-id="681b5-143">检查在播放机设置中的以下功能 > 发布设置</span><span class="sxs-lookup"><span data-stu-id="681b5-143">Check the following Capabilities in Player Settings > Publish Settings</span></span> 
   * <span data-ttu-id="681b5-144">InternetClient</span><span class="sxs-lookup"><span data-stu-id="681b5-144">InternetClient</span></span>
   * <span data-ttu-id="681b5-145">网络摄像头</span><span class="sxs-lookup"><span data-stu-id="681b5-145">WebCam</span></span>
   * <span data-ttu-id="681b5-146">SpatialPerception-如果你想要使用面观察者 API</span><span class="sxs-lookup"><span data-stu-id="681b5-146">SpatialPerception - if you intend to use the Surface Observer API</span></span>
10. <span data-ttu-id="681b5-147">选择要生成的 Visual Studio 项目生成</span><span class="sxs-lookup"><span data-stu-id="681b5-147">Select Build to generate a Visual Studio project</span></span>
11. <span data-ttu-id="681b5-148">从 Visual Studio 生成可执行文件并将其安装在 HoloLens 上</span><span class="sxs-lookup"><span data-stu-id="681b5-148">Build the executable from Visual Studio and install it on your HoloLens</span></span>

<span data-ttu-id="681b5-149">注意：从版本 7.2、 HoloLens Vuforia 引擎示例包括包括模型目标的示例用法的示例场景</span><span class="sxs-lookup"><span data-stu-id="681b5-149">Note: Starting with version 7.2, the Vuforia Engine Sample for HoloLens includes a sample scene including example usage of Model Targets</span></span>

## <a name="the-vuforia-developer-portal"></a><span data-ttu-id="681b5-150">Vuforia 开发人员门户</span><span class="sxs-lookup"><span data-stu-id="681b5-150">The Vuforia Developer Portal</span></span>

<span data-ttu-id="681b5-151">开发人员希望创建自己 AR 遇到与 Vuforia 引擎，且我们 Vuforia 开发人员门户上应注册 HoloLens [developer.vuforia.com](https://developer.vuforia.com/)。</span><span class="sxs-lookup"><span data-stu-id="681b5-151">Developers looking to create their own AR experiences with Vuforia Engine and HoloLens should sign up on our Vuforia Developer Portal at [developer.vuforia.com](https://developer.vuforia.com/).</span></span> <span data-ttu-id="681b5-152">在门户中，开发人员有权访问[Vuforia 引擎论坛](https://developer.vuforia.com/forum)它们可以加入社区讨论，其中[库](https://library.vuforia.com/)与所有 Vuforia 引擎功能，以及深入文档[Vuforia 目标管理器](https://developer.vuforia.com/target-manager)用户可以在其中创建其自己的自定义目标。</span><span class="sxs-lookup"><span data-stu-id="681b5-152">In the portal, developers have access to the [Vuforia Engine Forums](https://developer.vuforia.com/forum) where they can join community discussions, a [library](https://library.vuforia.com/) with in-depth documentation on all the Vuforia Engine Features, and the [Vuforia Target Manager](https://developer.vuforia.com/target-manager) where users can create their own custom Targets.</span></span> <span data-ttu-id="681b5-153">开发人员还可以注册免费的开发人员许可证使用[Vuforia 许可证管理器](https://developer.vuforia.com/license-manager)。</span><span class="sxs-lookup"><span data-stu-id="681b5-153">Developers can also sign up for a free Developer License using the [Vuforia License Manager](https://developer.vuforia.com/license-manager).</span></span>

## <a name="extended-tracking-with-vuforia"></a><span data-ttu-id="681b5-154">使用 Vuforia 扩展的跟踪</span><span class="sxs-lookup"><span data-stu-id="681b5-154">Extended tracking with Vuforia</span></span>

<span data-ttu-id="681b5-155">[扩展跟踪](https://library.vuforia.com/articles/Training/Extended-Tracking)创建环境维护跟踪即使目标不再是视图中的映射。</span><span class="sxs-lookup"><span data-stu-id="681b5-155">[Extended tracking](https://library.vuforia.com/articles/Training/Extended-Tracking) creates a map of the environment to maintain tracking even when a target is no longer in view.</span></span> <span data-ttu-id="681b5-156">它是 Vuforia 引擎执行的 HoloLens 的空间映射到对应。</span><span class="sxs-lookup"><span data-stu-id="681b5-156">It is Vuforia Engines’ counterpart to the spatial mapping performed by HoloLens.</span></span> <span data-ttu-id="681b5-157">在启用扩展的跟踪在目标上，启用该目标将传递给空间映射系统的姿势。</span><span class="sxs-lookup"><span data-stu-id="681b5-157">When you enable extended tracking on a target, you enable the pose of that target to be passed to the spatial mapping system.</span></span> <span data-ttu-id="681b5-158">这样一来，目标可以存在于 Vuforia 引擎和 HoloLens 空间坐标系统，但不同时。</span><span class="sxs-lookup"><span data-stu-id="681b5-158">In this way, targets can exist in both the Vuforia Engine and HoloLens spatial coordinate systems, though not simultaneously.</span></span>

<span data-ttu-id="681b5-159">![Unity 设置窗口](images/vuforia-extendedtracking.png)</span><span class="sxs-lookup"><span data-stu-id="681b5-159">![Unity settings window](images/vuforia-extendedtracking.png)</span></span><br>
<span data-ttu-id="681b5-160">*Unity 设置窗口*</span><span class="sxs-lookup"><span data-stu-id="681b5-160">*Unity settings window*</span></span>

<span data-ttu-id="681b5-161">**启用在目标上的扩展的跟踪**</span><span class="sxs-lookup"><span data-stu-id="681b5-161">**Enabling Extended Tracking on a Target**</span></span>

<span data-ttu-id="681b5-162">Vuforia 引擎会将目标使用扩展的跟踪到 HoloLens 空间坐标系统的姿势自动转换。</span><span class="sxs-lookup"><span data-stu-id="681b5-162">Vuforia Engine will automatically transform the pose of a target that uses extended tracking into the HoloLens spatial coordinate system.</span></span> <span data-ttu-id="681b5-163">这允许 HoloLens 接管跟踪，并将集成到空间映射的目标的环境并增加任何内容。</span><span class="sxs-lookup"><span data-stu-id="681b5-163">This allows HoloLens to take over tracking, and to integrate any content augmenting into the spatial map of the target’s surroundings.</span></span> <span data-ttu-id="681b5-164">此过程发生 Vuforia 引擎和混合的现实中 Unity Api 之间，并且不需要由开发人员的任何编程-自动对其进行处理。</span><span class="sxs-lookup"><span data-stu-id="681b5-164">This process occurs between Vuforia Engine and mixed reality APIs in Unity and does not require any programming by the developer - it's handled automatically.</span></span>

<span data-ttu-id="681b5-165">**下面是所发生的情况...**</span><span class="sxs-lookup"><span data-stu-id="681b5-165">**Here is what occurs...**</span></span>
1. <span data-ttu-id="681b5-166">Vuforia 的目标跟踪器识别目标</span><span class="sxs-lookup"><span data-stu-id="681b5-166">Vuforia’s target Tracker recognizes the target</span></span>
2. <span data-ttu-id="681b5-167">然后初始化目标跟踪</span><span class="sxs-lookup"><span data-stu-id="681b5-167">Target tracking is then initialized</span></span>
3. <span data-ttu-id="681b5-168">位置和旋转的目标被分析，以提供 HoloLens，若要使用的可靠姿势估计</span><span class="sxs-lookup"><span data-stu-id="681b5-168">The position and rotation of the target are analyzed to provide a robust pose estimate for HoloLens to use</span></span>
4. <span data-ttu-id="681b5-169">Vuforia 将目标的姿势转换到 HoloLens 空间映射坐标空间</span><span class="sxs-lookup"><span data-stu-id="681b5-169">Vuforia transforms the target's pose into the HoloLens spatial mapping coordinate space</span></span>
5. <span data-ttu-id="681b5-170">HoloLens 接管跟踪并停用 Vuforia 跟踪器</span><span class="sxs-lookup"><span data-stu-id="681b5-170">HoloLens takes over tracking and the Vuforia tracker is deactivated</span></span>

<span data-ttu-id="681b5-171">开发人员可以控制此过程中，通过禁用扩展的跟踪 TargetBehaviour 控制权返回给 Vuforia。</span><span class="sxs-lookup"><span data-stu-id="681b5-171">The developer can control this process, to return control to Vuforia, by disabling extended tracking on the TargetBehaviour.</span></span>

<span data-ttu-id="681b5-172">**注意：** 从 Vuforia 7.2 开始，扩展跟踪已无法再在每个目标的基础上。</span><span class="sxs-lookup"><span data-stu-id="681b5-172">**NOTE:** Starting with Vuforia 7.2, Extended Tracking is no longer enabled on a per-target basis.</span></span> <span data-ttu-id="681b5-173">相反，开发人员可以启用设备跟踪以便在场景中的所有目标上类似的功能。</span><span class="sxs-lookup"><span data-stu-id="681b5-173">Instead, developers can turn on Device Tracking to enable similar functionality on all the targets in the scene.</span></span>


## <a name="see-also"></a><span data-ttu-id="681b5-174">请参阅</span><span class="sxs-lookup"><span data-stu-id="681b5-174">See also</span></span>
* [<span data-ttu-id="681b5-175">安装工具</span><span class="sxs-lookup"><span data-stu-id="681b5-175">Install the tools</span></span>](install-the-tools.md)
* [<span data-ttu-id="681b5-176">坐标系统</span><span class="sxs-lookup"><span data-stu-id="681b5-176">Coordinate systems</span></span>](coordinate-systems.md)
* [<span data-ttu-id="681b5-177">空间映射</span><span class="sxs-lookup"><span data-stu-id="681b5-177">Spatial mapping</span></span>](spatial-mapping.md)
* [<span data-ttu-id="681b5-178">在 Unity 中的照相机</span><span class="sxs-lookup"><span data-stu-id="681b5-178">Camera in Unity</span></span>](camera-in-unity.md)
* [<span data-ttu-id="681b5-179">导出和构建 Unity 的 Visual Studio 解决方案</span><span class="sxs-lookup"><span data-stu-id="681b5-179">Exporting and building a Unity Visual Studio solution</span></span>](exporting-and-building-a-unity-visual-studio-solution.md)
* [<span data-ttu-id="681b5-180">Vuforia 文档：在 Unity 中的 Windows 10 开发</span><span class="sxs-lookup"><span data-stu-id="681b5-180">Vuforia documentation: Developing for Windows 10 in Unity</span></span>](https://library.vuforia.com/articles/Solution/Developing-for-Windows-10-in-Unity)
* [<span data-ttu-id="681b5-181">Vuforia 文档：如何安装 Vuforia Unity 扩展</span><span class="sxs-lookup"><span data-stu-id="681b5-181">Vuforia documentation: How to install the Vuforia Unity extension</span></span>](https://library.vuforia.com/articles/Solution/Installing-the-Unity-Extension)
* [<span data-ttu-id="681b5-182">Vuforia 文档：使用 Unity 中的 HoloLens 示例</span><span class="sxs-lookup"><span data-stu-id="681b5-182">Vuforia documentation: Working with the HoloLens sample in Unity</span></span>](https://library.vuforia.com/articles/Solution/Working-with-the-HoloLens-sample-in-Unity)
* [<span data-ttu-id="681b5-183">Vuforia 文档：在 Vuforia 扩展的跟踪</span><span class="sxs-lookup"><span data-stu-id="681b5-183">Vuforia documentation: Extended tracking in Vuforia</span></span>](https://library.vuforia.com/articles/Training/Extended-Tracking)
