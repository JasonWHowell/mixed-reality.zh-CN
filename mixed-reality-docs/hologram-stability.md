---
title: 全息图稳定性
description: HoloLens 自动稳定全息，但开发人员可以采取的措施来提高进一步全息图稳定性。
author: thetuvix
ms.author: alexturn
ms.date: 03/21/2018
ms.topic: article
keywords: 全息，稳定性 hololens
ms.openlocfilehash: 9b0227102934650d5640a4ac1c4d6f59ecd8e6dd
ms.sourcegitcommit: 384b0087899cd835a3a965f75c6f6c607c9edd1b
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 04/12/2019
ms.locfileid: "59592121"
---
# <a name="hologram-stability"></a><span data-ttu-id="65443-104">全息图稳定性</span><span class="sxs-lookup"><span data-stu-id="65443-104">Hologram stability</span></span>

<span data-ttu-id="65443-105">若要实现稳定全息，HoloLens 具有内置映像稳定管道。</span><span class="sxs-lookup"><span data-stu-id="65443-105">To achieve stable holograms, HoloLens has a built-in image stabilization pipeline.</span></span> <span data-ttu-id="65443-106">稳定管道自动在后台的工作，因此无需启用它的额外步骤。</span><span class="sxs-lookup"><span data-stu-id="65443-106">The stabilization pipeline works automatically in the background, so there are no extra steps required to enable it.</span></span> <span data-ttu-id="65443-107">但是，开发人员应执行提高全息图稳定性的技术并避免降低稳定性的方案。</span><span class="sxs-lookup"><span data-stu-id="65443-107">However, developers should exercise techniques that improve hologram stability and avoid scenarios that reduce stability.</span></span>

## <a name="hologram-quality-terminology"></a><span data-ttu-id="65443-108">全息图质量术语</span><span class="sxs-lookup"><span data-stu-id="65443-108">Hologram quality terminology</span></span>

<span data-ttu-id="65443-109">全息的质量是好的环境和良好的应用程序开发的结果。</span><span class="sxs-lookup"><span data-stu-id="65443-109">The quality of holograms is a result of good environment and good app development.</span></span> <span data-ttu-id="65443-110">命中常量 60 帧 / 秒，HoloLens 用来跟踪周围环境的环境中的应用程序将确保全息图和匹配的坐标系统保持同步。从用户的角度来看，为了保持静止的全息不会移动环境。</span><span class="sxs-lookup"><span data-stu-id="65443-110">Apps that hit a constant 60 frames-per-second in an environment where HoloLens can track the surroundings will ensure the hologram and the matching coordinate system are in sync. From a user's perspective, holograms that are meant to be stationary will not move relative to the environment.</span></span>

<span data-ttu-id="65443-111">当环境问题时，不一致或较低的呈现速率或其他应用程序问题出现，下列术语很有帮助确定问题。</span><span class="sxs-lookup"><span data-stu-id="65443-111">When environment issues, inconsistent or low rendering rates, or other app problems show up, the following terminology is helpful in identifying the problem.</span></span>
* <span data-ttu-id="65443-112">**准确性。**</span><span class="sxs-lookup"><span data-stu-id="65443-112">**Accuracy.**</span></span> <span data-ttu-id="65443-113">一旦全息图是世界上锁定并放置在现实生活中，它应保留它已放置的位置，相对于周围的环境，独立于用户动作或小型和稀疏环境的变化。</span><span class="sxs-lookup"><span data-stu-id="65443-113">Once the hologram is world-locked and placed in the real world, it should stay where it was placed, relative to the surrounding environment, independent of user motion or small and sparse environment changes.</span></span> <span data-ttu-id="65443-114">如果一张全息图更高版本中的意外位置出现，它是*准确性*问题。</span><span class="sxs-lookup"><span data-stu-id="65443-114">If a hologram later appears in an unexpected location, it is an *accuracy* problem.</span></span> <span data-ttu-id="65443-115">如果两个不同的房间外观看起来相同，则可能发生这种情况。</span><span class="sxs-lookup"><span data-stu-id="65443-115">Such scenarios can happen if two distinct rooms look identical.</span></span>
* <span data-ttu-id="65443-116">**抖动。**</span><span class="sxs-lookup"><span data-stu-id="65443-116">**Jitter.**</span></span> <span data-ttu-id="65443-117">用户将观察这作为高频率摇动的一张全息图。</span><span class="sxs-lookup"><span data-stu-id="65443-117">Users observe this as high frequency shaking of a hologram.</span></span> <span data-ttu-id="65443-118">这可以降低环境的跟踪。</span><span class="sxs-lookup"><span data-stu-id="65443-118">This can happen when tracking of the environment degrades.</span></span> <span data-ttu-id="65443-119">对于用户，该解决方案运行[传感器优化](sensor-tuning.md)。</span><span class="sxs-lookup"><span data-stu-id="65443-119">For users, the solution is running [sensor tuning](sensor-tuning.md).</span></span>
* <span data-ttu-id="65443-120">**Judder。**</span><span class="sxs-lookup"><span data-stu-id="65443-120">**Judder.**</span></span> <span data-ttu-id="65443-121">低呈现频率会导致不均匀的动作和全息的双精度映像。</span><span class="sxs-lookup"><span data-stu-id="65443-121">Low rendering frequencies result in uneven motion and double images of holograms.</span></span> <span data-ttu-id="65443-122">这是在与运动全息会尤为明显。</span><span class="sxs-lookup"><span data-stu-id="65443-122">This is especially noticeable in holograms with motion.</span></span> <span data-ttu-id="65443-123">开发人员需要维护[常量 60 FPS](hologram-stability.md#frame-rate)。</span><span class="sxs-lookup"><span data-stu-id="65443-123">Developers need to maintain a [constant 60 FPS](hologram-stability.md#frame-rate).</span></span>
* <span data-ttu-id="65443-124">**偏移。**</span><span class="sxs-lookup"><span data-stu-id="65443-124">**Drift.**</span></span> <span data-ttu-id="65443-125">用户看到此和全息图显示将从最初下达移开的。</span><span class="sxs-lookup"><span data-stu-id="65443-125">Users see this as hologram appears to move away from where it was originally placed.</span></span> <span data-ttu-id="65443-126">发生这种情况时从远放置全息[空间的定位点](spatial-anchors.md)，尤其是在尚未完全映射的环境部分。</span><span class="sxs-lookup"><span data-stu-id="65443-126">This happens when holograms are placed far away from [spatial anchors](spatial-anchors.md), particularly in parts of the environment that have not been fully mapped.</span></span> <span data-ttu-id="65443-127">创建空间的定位点接近全息降低偏差的可能性。</span><span class="sxs-lookup"><span data-stu-id="65443-127">Creating holograms close to spatial anchors lowers the likelihood of drift.</span></span>
* <span data-ttu-id="65443-128">**Jumpiness。**</span><span class="sxs-lookup"><span data-stu-id="65443-128">**Jumpiness.**</span></span> <span data-ttu-id="65443-129">当一张全息图"弹出"或者"跳转"离开其位置偶尔。</span><span class="sxs-lookup"><span data-stu-id="65443-129">When a hologram "pops" or "jumps" away from it's location occasionally.</span></span> <span data-ttu-id="65443-130">这可能因为跟踪调整全息以匹配已更新您的环境的了解。</span><span class="sxs-lookup"><span data-stu-id="65443-130">This can occur as tracking adjusts holograms to match updated understanding of your environment.</span></span>
* <span data-ttu-id="65443-131">**Swim.**</span><span class="sxs-lookup"><span data-stu-id="65443-131">**Swim.**</span></span> <span data-ttu-id="65443-132">当一张全息图看起来 sway 对应于用户的 head 的动作。</span><span class="sxs-lookup"><span data-stu-id="65443-132">When a hologram appears to sway corresponding to the motion of the user's head.</span></span> <span data-ttu-id="65443-133">发生这种情况是当不在全息[稳定平面](hologram-stability.md#stabilization-plane)，和如果 HoloLens 不[校准](calibration.md)为当前用户。</span><span class="sxs-lookup"><span data-stu-id="65443-133">This occurs when holograms are not on the [stabilization plane](hologram-stability.md#stabilization-plane), and if the HoloLens is not [calibrated](calibration.md) for the current user.</span></span> <span data-ttu-id="65443-134">用户可以重新运行[校准](calibration.md)应用程序若要解决此问题。</span><span class="sxs-lookup"><span data-stu-id="65443-134">The user can rerun the [calibration](calibration.md) application to fix this.</span></span> <span data-ttu-id="65443-135">开发人员可以更新要进一步增强稳定性的稳定平面。</span><span class="sxs-lookup"><span data-stu-id="65443-135">Developers can update the stabilization plane to further enhance stability.</span></span>
* <span data-ttu-id="65443-136">**分色。**</span><span class="sxs-lookup"><span data-stu-id="65443-136">**Color separation.**</span></span> <span data-ttu-id="65443-137">HoloLens 中的显示信息是颜色的顺序显示，该闪存的红绿蓝绿色颜色通道，60 赫兹 （单个颜色字段的显示位置将 240 Hz）。</span><span class="sxs-lookup"><span data-stu-id="65443-137">The displays in HoloLens are a color sequential display, which flash color channels of red-green-blue-green at 60Hz (individual color fields are shown at 240Hz).</span></span> <span data-ttu-id="65443-138">每当用户跟踪具有其自己的眼睛移动全息图，该 hologram 前导和尾随边缘分隔以其构成的颜色，从而产生出喷薄彩虹效果效果。</span><span class="sxs-lookup"><span data-stu-id="65443-138">Whenever a user tracks a moving hologram with his or her eyes, that hologram's leading and trailing edges separate in their constituent colors, producing a rainbow effect.</span></span> <span data-ttu-id="65443-139">一定程度的分离所依赖的 hologram 速度。</span><span class="sxs-lookup"><span data-stu-id="65443-139">The degree of separation is dependent upon the speed of the hologram.</span></span> <span data-ttu-id="65443-140">在某些罕见的情况下，移动的头部快速时查看静态全息图也可能导致出喷薄彩虹效果。</span><span class="sxs-lookup"><span data-stu-id="65443-140">In some rarer cases, moving ones head rapidly while looking at a stationary hologram can also result in a rainbow effect.</span></span> <span data-ttu-id="65443-141">这称为 *[颜色分离](hologram-stability.md#color-separation)* 。</span><span class="sxs-lookup"><span data-stu-id="65443-141">This is called *[color separation](hologram-stability.md#color-separation)*.</span></span>

## <a name="frame-rate"></a><span data-ttu-id="65443-142">帧速率</span><span class="sxs-lookup"><span data-stu-id="65443-142">Frame rate</span></span>

<span data-ttu-id="65443-143">帧速率是全息图稳定性的第一个支柱。</span><span class="sxs-lookup"><span data-stu-id="65443-143">Frame rate is the first pillar of hologram stability.</span></span> <span data-ttu-id="65443-144">对于全息才会出现在世界稳定，向用户显示每个映像必须在正确的位置绘制全息。</span><span class="sxs-lookup"><span data-stu-id="65443-144">For holograms to appear stable in the world, each image presented to the user must have the holograms drawn in the correct spot.</span></span> <span data-ttu-id="65443-145">HoloLens 刷新每秒 240 次显示，其中四个独立的色彩字段显示为每个新呈现图像，从而导致 60 FPS （帧 / 秒） 的用户体验。</span><span class="sxs-lookup"><span data-stu-id="65443-145">The displays on HoloLens refresh 240 times a second, showing four separate color fields for each newly rendered image, resulting in a user experience of 60 FPS (frames per second).</span></span> <span data-ttu-id="65443-146">若要提供最佳体验，应用程序开发人员必须保留 60 FPS，这会转换为一致地提供对操作系统的新映像每隔 16 毫秒。</span><span class="sxs-lookup"><span data-stu-id="65443-146">To provide the best experience possible, application developers must maintain 60 FPS, which translates to consistently providing a new image to the operating system every 16 milliseconds.</span></span>

<span data-ttu-id="65443-147">**60 FPS**绘制全息来看起来像坐在现实生活中，HoloLens 需要呈现来自用户的位置的图像。</span><span class="sxs-lookup"><span data-stu-id="65443-147">**60 FPS** To draw holograms to look like they're sitting in the real world, HoloLens needs to render images from the user's position.</span></span> <span data-ttu-id="65443-148">图像呈现所需时间，因为 HoloLens 预测时图像所示显示中用户的头将在其中。</span><span class="sxs-lookup"><span data-stu-id="65443-148">Since image rendering takes time, HoloLens predicts where a user's head will be when the images are shown in the displays.</span></span> <span data-ttu-id="65443-149">此预测算法是一个近似值。</span><span class="sxs-lookup"><span data-stu-id="65443-149">This prediction algorithm is an approximation.</span></span> <span data-ttu-id="65443-150">HoloLens 具有调整到帐户的预测的头位置和实际头位置之间的差异进行呈现的图像的硬件。</span><span class="sxs-lookup"><span data-stu-id="65443-150">HoloLens has hardware that adjusts the rendered image to account for the discrepancy between the predicted head position and the actual head position.</span></span> <span data-ttu-id="65443-151">这使映像用户会看到显示像它已从正确的位置，从呈现和全息感觉稳定。</span><span class="sxs-lookup"><span data-stu-id="65443-151">This makes the image the user sees appear as if it was rendered from the correct location, and holograms feel stable.</span></span> <span data-ttu-id="65443-152">映像更新的工作最适合具有较小的更改和无法完全修复等动作视差呈现的图像中的某些内容。</span><span class="sxs-lookup"><span data-stu-id="65443-152">The image updates work best with small changes, and it can't completely fix certain things in the rendered image like motion-parallax.</span></span>

<span data-ttu-id="65443-153">通过在 60 FPS 呈现，你正在以使稳定全息的三个操作：</span><span class="sxs-lookup"><span data-stu-id="65443-153">By rendering at 60 FPS, you are doing three things to help make stable holograms:</span></span>
1. <span data-ttu-id="65443-154">最大程度减少呈现图像和用户看到该映像之间的总体延迟。</span><span class="sxs-lookup"><span data-stu-id="65443-154">Minimizing the overall latency between rendering an image and that image being seen by the user.</span></span> <span data-ttu-id="65443-155">在使用游戏线程和呈现线程引擎保持同步，在 30 FPS 运行运行可以添加额外延迟 33.3ms。</span><span class="sxs-lookup"><span data-stu-id="65443-155">In an engine with a game thread and a render thread running in lockstep, running at 30FPS can add 33.3ms of extra latency.</span></span> <span data-ttu-id="65443-156">通过减少延迟，这会降低预测错误，并增大全息图稳定性。</span><span class="sxs-lookup"><span data-stu-id="65443-156">By reducing latency, this decreases prediction error, and increases hologram stability.</span></span>
2. <span data-ttu-id="65443-157">从而使每个图像到达用户的眼球具有一致的延迟时间。</span><span class="sxs-lookup"><span data-stu-id="65443-157">Making it so every image reaching the user's eyes have a consistent amount of latency.</span></span> <span data-ttu-id="65443-158">如果呈现在每秒 30 帧，显示仍在 60 FPS 显示图像。</span><span class="sxs-lookup"><span data-stu-id="65443-158">If you render at 30fps, the display still displays images at 60 FPS.</span></span> <span data-ttu-id="65443-159">这意味着同一图像将显示在一行中两次。</span><span class="sxs-lookup"><span data-stu-id="65443-159">This means the same image will be displayed twice in a row.</span></span> <span data-ttu-id="65443-160">第二个帧将具有 16.6ms 比第一个延迟时间更长的帧，但将不得不更正读作更多数量的错误。</span><span class="sxs-lookup"><span data-stu-id="65443-160">The second frame will have 16.6ms more latency than the first frame and will have to correct a more pronounced amount of error.</span></span> <span data-ttu-id="65443-161">在错误数量级这种不一致性会导致不需要 60 hz judder。</span><span class="sxs-lookup"><span data-stu-id="65443-161">This inconsistency in error magnitude can cause unwanted 60hz judder.</span></span>
3. <span data-ttu-id="65443-162">减少 judder 的外观，其中的特征是不均匀的动作和 double 的映像。</span><span class="sxs-lookup"><span data-stu-id="65443-162">Reducing the appearance of judder, which is characterized by uneven motion and double images.</span></span> <span data-ttu-id="65443-163">更快的 hologram 运动，呈现较低费率都与得更明显 judder。</span><span class="sxs-lookup"><span data-stu-id="65443-163">Faster hologram motion and lower render rates are associated with more pronounced judder.</span></span> <span data-ttu-id="65443-164">因此，努力保持 60 FPS 根本时间将有助于避免 judder 为给定的移动全息图。</span><span class="sxs-lookup"><span data-stu-id="65443-164">Therefore, striving to maintain 60 FPS at all times will help avoid judder for a given moving hologram.</span></span>

<span data-ttu-id="65443-165">**帧速率一致性**帧速率一致性是与高帧 / 秒时一样重要。</span><span class="sxs-lookup"><span data-stu-id="65443-165">**Frame-rate consistency** Frame rate consistency is as important as a high frames-per-second.</span></span> <span data-ttu-id="65443-166">偶尔会丢弃帧是不可避免地存在的任何内容丰富的应用程序，并 HoloLens 实现一些复杂的算法来从临时故障中恢复。</span><span class="sxs-lookup"><span data-stu-id="65443-166">Occasionally dropped frames are inevitable for any content-rich application, and the HoloLens implements some sophisticated algorithms to recover from occasional glitches.</span></span> <span data-ttu-id="65443-167">但是，不断波动的帧速率是用户以较低的帧速率一致地运行应用程序相比更明显。</span><span class="sxs-lookup"><span data-stu-id="65443-167">However, a constantly fluctuating framerate is a lot more noticeable to a user than running consistently at lower frame rates.</span></span> <span data-ttu-id="65443-168">例如，呈现顺利 5 帧 (这些 5 个帧的持续时间为 60 FPS)，然后删除接下来的 10 帧 (这些 10 帧的持续时间为 30 FPS) 的所有其他框架的应用程序将显示比应用程序更不稳定的一致在每秒 30 帧的呈现。</span><span class="sxs-lookup"><span data-stu-id="65443-168">For example, an application that renders smoothly for 5 frames (60 FPS for the duration of these 5 frames) and then drops every other frame for the next 10 frames (30 FPS for the duration of these 10 frames) will appear more unstable than an application that consistently renders at 30 FPS.</span></span>

<span data-ttu-id="65443-169">请注意，在操作系统将限制下每秒 30 帧的应用程序时[混合现实捕获](mixed-reality-capture.md)正在运行。</span><span class="sxs-lookup"><span data-stu-id="65443-169">On a related note, the operating system will throttle applications down to 30 FPS when [mixed reality capture](mixed-reality-capture.md) is running.</span></span>

<span data-ttu-id="65443-170">**性能分析**有多种可用于应用程序帧速率等进行基准测试的工具：</span><span class="sxs-lookup"><span data-stu-id="65443-170">**Performance analysis** There are a variety of tools that can be used to benchmark your application frame rate such as:</span></span>
* <span data-ttu-id="65443-171">GPUView</span><span class="sxs-lookup"><span data-stu-id="65443-171">GPUView</span></span>
* <span data-ttu-id="65443-172">Visual Studio 图形调试器</span><span class="sxs-lookup"><span data-stu-id="65443-172">Visual Studio Graphics Debugger</span></span>
* <span data-ttu-id="65443-173">例如 Unity 3D 引擎中内置的探查器</span><span class="sxs-lookup"><span data-stu-id="65443-173">Profilers built into 3D engines such as Unity</span></span>

## <a name="hologram-render-distances"></a><span data-ttu-id="65443-174">全息图呈现距离</span><span class="sxs-lookup"><span data-stu-id="65443-174">Hologram render distances</span></span>

>[!VIDEO https://www.youtube.com/embed/-606oZKLa_s]

<span data-ttu-id="65443-175">人工 visual 系统集成多个依赖于距离的信号时它 fixates，重点放在一个对象。</span><span class="sxs-lookup"><span data-stu-id="65443-175">The human visual system integrates multiple distance-dependent signals when it fixates and focuses on an object.</span></span>
* <span data-ttu-id="65443-176">[便利设施](https://en.wikipedia.org/wiki/Accommodation_%28eye%29)-单个关注的焦点。</span><span class="sxs-lookup"><span data-stu-id="65443-176">[Accommodation](https://en.wikipedia.org/wiki/Accommodation_%28eye%29) - The focus of an individual eye.</span></span>
* <span data-ttu-id="65443-177">[聚合](https://en.wikipedia.org/wiki/Convergence_(eye))-两只眼睛，开始向内移动或向外，在中心对象。</span><span class="sxs-lookup"><span data-stu-id="65443-177">[Convergence](https://en.wikipedia.org/wiki/Convergence_(eye)) - Two eyes moving inward or outward to center on an object.</span></span>
* <span data-ttu-id="65443-178">[放大镜视觉](https://en.wikipedia.org/wiki/Stereopsis)-依赖于对象的距离的位置固定点的左侧和右侧眼映像之间的不一致。</span><span class="sxs-lookup"><span data-stu-id="65443-178">[Binocular vision](https://en.wikipedia.org/wiki/Stereopsis) - Disparities between the left- and right-eye images that are dependent on an object's distance away from your fixation point.</span></span>
* <span data-ttu-id="65443-179">明暗度、 相对 angular 大小和其他 monocular （单个眼睛） 提示。</span><span class="sxs-lookup"><span data-stu-id="65443-179">Shading, relative angular size, and other monocular (single eye) cues.</span></span>

<span data-ttu-id="65443-180">聚合和便利设施是唯一，因为它们是如何更改眼睛感知不同距离处的对象与相关的额外视网膜提示。</span><span class="sxs-lookup"><span data-stu-id="65443-180">Convergence and accommodation are unique because they are extra-retinal cues related to how the eyes change to perceive objects at different distances.</span></span> <span data-ttu-id="65443-181">在自然查看链接聚合和便利设施。</span><span class="sxs-lookup"><span data-stu-id="65443-181">In natural viewing, convergence and accommodation are linked.</span></span> <span data-ttu-id="65443-182">当眼睛查看内容 （例如你鼻子） 附近时眼睛跨和适应 near 点。</span><span class="sxs-lookup"><span data-stu-id="65443-182">When the eyes view something near (e.g. your nose) the eyes cross and accommodate to a near point.</span></span> <span data-ttu-id="65443-183">当在无穷大的眼睛就会变得并行和关注眼睛查看的内容适合于为无穷大。</span><span class="sxs-lookup"><span data-stu-id="65443-183">When the eyes view something at infinity the eyes become parallel and the eye accommodates to infinity.</span></span> <span data-ttu-id="65443-184">戴上 HoloLens 的用户将始终允许到 2.0 m 来维护清晰的图像因为 HoloLens 显示固定为光学的距离大约 2.0 m 背朝用户。</span><span class="sxs-lookup"><span data-stu-id="65443-184">Users wearing HoloLens will always accommodate to 2.0m to maintain a clear image because the HoloLens displays are fixed at an optical distance approximately 2.0m away from the user.</span></span> <span data-ttu-id="65443-185">通过将内容和全息放置在各种深入探索聚合用户的眼睛，其中应用开发人员控制。</span><span class="sxs-lookup"><span data-stu-id="65443-185">App developers control where users' eyes converge by placing content and holograms at various depths.</span></span> <span data-ttu-id="65443-186">当用户适应，并集中到不同的距离时的两个提示之间的自然链接已断开，这可能会导致 visual 不适或疲劳，尤其是在冲突的量很大。</span><span class="sxs-lookup"><span data-stu-id="65443-186">When users accommodate and converge to different distances, the natural link between the two cues are broken and this can lead to visual discomfort or fatigue, especially when the magnitude of the conflict is large.</span></span> <span data-ttu-id="65443-187">从 vergence 便利设施冲突不适可以避免或最小化通过保留 2.0 m 尽可能接近收敛到用户的内容 （即具有深度的很多场景中放入 2.0 m 尽可能接近的感兴趣的区域）。</span><span class="sxs-lookup"><span data-stu-id="65443-187">Discomfort from the vergence-accommodation conflict can be avoided or minimized by keeping content that users converge to as close to 2.0m as possible (i.e. in a scene with lots of depth place the areas of interest near 2.0m when possible).</span></span> <span data-ttu-id="65443-188">不能放置内容时从 vergence 方便起见冲突的近 2.0 m 不适是最大时用户的注视来回之间距离各不相同。</span><span class="sxs-lookup"><span data-stu-id="65443-188">When content cannot be placed near 2.0m discomfort from the vergence-accomodation conflict is greatest when user’s gaze back and forth between different distances.</span></span> <span data-ttu-id="65443-189">换而言之，它是更舒适地看一下静态 hologram 保持 50 cm 消失比若要查看一张全息图 50 cm 消失，随着时间的推移将靠近或远离你。</span><span class="sxs-lookup"><span data-stu-id="65443-189">In other words, it is much more comfortable to look at a stationary hologram that stays 50cm away than to look at a hologram 50cm away that moves toward and away from you over time.</span></span>

<span data-ttu-id="65443-190">因为两个显示专为在此距离完全重叠，将内容放在 2.0 m 还有更有利。</span><span class="sxs-lookup"><span data-stu-id="65443-190">Placing content at 2.0m is also advantageous because the two displays are designed to fully overlap at this distance.</span></span> <span data-ttu-id="65443-191">对于映像关闭此平面放置，随着 holographic 帧消失它们将消失从同时仍显示在另一个监视器。</span><span class="sxs-lookup"><span data-stu-id="65443-191">For images placed off this plane, as they move off the side of the holographic frame they will disappear from one display while still being visible on the other.</span></span> <span data-ttu-id="65443-192">此放大镜 rivalry 可能会造成干扰的 hologram 深度公众形象。</span><span class="sxs-lookup"><span data-stu-id="65443-192">This binocular rivalry can be disruptive to the depth perception of the hologram.</span></span>

<span data-ttu-id="65443-193">**将用户从全息的最佳距离**</span><span class="sxs-lookup"><span data-stu-id="65443-193">**Optimal distance for placing holograms from the user**</span></span>

![将用户从全息的最佳距离](images/distanceguiderendering-750px.png)

<span data-ttu-id="65443-195">**修剪平面**建议的最大舒适处使用的内容开始 1 百万 fadeout 85 cm 剪辑呈现距离。</span><span class="sxs-lookup"><span data-stu-id="65443-195">**Clip Planes** For maximum comfort we recommend clipping render distance at 85cm with fadeout of content starting at 1m.</span></span> <span data-ttu-id="65443-196">在其中全息和用户是两个静态全息的应用程序中可以查看可几乎为 50 cm。</span><span class="sxs-lookup"><span data-stu-id="65443-196">In applications where holograms and users are both stationary holograms can be viewed comfortably as near as 50cm.</span></span> <span data-ttu-id="65443-197">在这些情况下，应用程序应不超过 30 cm 更接近放置剪裁平面和淡出应开始在至少 10 个 cm 离开剪裁平面。</span><span class="sxs-lookup"><span data-stu-id="65443-197">In those cases, applications should place a clip plane no closer than 30cm and fade out should start at least 10cm away from the clip plane.</span></span> <span data-ttu-id="65443-198">每当内容是比 85 cm 务必要确保用户不经常移动更近或远离全息或，全息不经常移动更近或远离用户最有可能会导致从不适允许这种情况下进行更接近vergence 便利设施，发生冲突。</span><span class="sxs-lookup"><span data-stu-id="65443-198">Whenever content is closer than 85cm it is important to ensure that users do not frequently move closer or farther from holograms or that holograms do not frequently move closer to or farther from the user as these situations are most likely to cause discomfort from the vergence-accommodation conflict.</span></span> <span data-ttu-id="65443-199">内容应旨在最大程度减少交互更接近比 85 cm 用户，但必须进一步超过 85 cm 面向开发人员良好经验法则是设计的方案的用户和/或全息请不要移动在超过 25 %t 的深度中呈现内容时需要他时间。</span><span class="sxs-lookup"><span data-stu-id="65443-199">Content should be designed to minimize the need for interaction closer than 85cm from the user, but when content must be rendered closer than 85cm a good rule of thumb for developers is to design scenarios where users and/or holograms do not move in depth more than 25% of the time.</span></span>

<span data-ttu-id="65443-200">**最佳做法**全息不能放在 2 分钟，不能避免聚合和便利设施之间的冲突，全息图放置的最佳区域时，1.25 m 和 5 分钟之间。</span><span class="sxs-lookup"><span data-stu-id="65443-200">**Best practices** When holograms cannot be placed at 2m and conflicts between convergence and accommodation cannot be avoided, the optimal zone for hologram placement is between 1.25m and 5m.</span></span> <span data-ttu-id="65443-201">设计器应在所有情况下，结构内容鼓励用户交互 1 + 米的位置 （例如调整内容大小和默认的位置参数）。</span><span class="sxs-lookup"><span data-stu-id="65443-201">In every case, designers should structure content to encourage users to interact 1+ m away (e.g. adjust content size and default placement parameters).</span></span>

## <a name="stabilization-plane"></a><span data-ttu-id="65443-202">稳定平面</span><span class="sxs-lookup"><span data-stu-id="65443-202">Stabilization plane</span></span>
> [!NOTE]
> <span data-ttu-id="65443-203">对于桌面的沉浸式耳机，设置稳定平面。 通常使系统效率降低，因为它提供了比能够提供应用程序的系统，以使每个像素深度基于 reprojection 深度缓冲区更少视觉质量</span><span class="sxs-lookup"><span data-stu-id="65443-203">For desktop immersive headsets, setting a stabilization plane is usually counter-productive, as it offers less visual quality than providing your app's depth buffer to the system to enable per-pixel depth-based reprojection.</span></span> <span data-ttu-id="65443-204">除非在 HoloLens 上运行，通常应避免设置稳定平面。</span><span class="sxs-lookup"><span data-stu-id="65443-204">Unless running on a HoloLens, you should generally avoid setting the stabilization plane.</span></span>

<span data-ttu-id="65443-205">HoloLens 执行复杂的硬件辅助的 holographic 稳定技术。</span><span class="sxs-lookup"><span data-stu-id="65443-205">HoloLens performs a sophisticated hardware-assisted holographic stabilization technique.</span></span> <span data-ttu-id="65443-206">这会很大程度上自动，并且需要遵守动作和更改的角度来看 (CameraPose)，如场景进行动画处理，并且用户将其头。</span><span class="sxs-lookup"><span data-stu-id="65443-206">This is largely automatic and has to do with motion and change of the point of view (CameraPose) as the scene animates and the user moves their head.</span></span> <span data-ttu-id="65443-207">选择单个平面，名为稳定平面，若要最大化此稳定。</span><span class="sxs-lookup"><span data-stu-id="65443-207">A single plane, called the stabilization plane, is chosen to maximize this stabilization.</span></span> <span data-ttu-id="65443-208">所有全息场景中的都接收某些稳定，全息稳定平面中的可以都获得最大硬件稳定性的做法。</span><span class="sxs-lookup"><span data-stu-id="65443-208">While all holograms in the scene receive some stabilization, holograms in the stabilization plane receive the maximum hardware stabilization.</span></span>

![稳定平面的三维对象](images/stab-plane-500px.jpg)

<span data-ttu-id="65443-210">设备将自动尝试选择此平面，但应用程序可以通过选择场景中的焦点位置协助此过程。</span><span class="sxs-lookup"><span data-stu-id="65443-210">The device will automatically attempt to choose this plane, but the application can assist in this process by selecting the focus point in the scene.</span></span> <span data-ttu-id="65443-211">HoloLens 上运行的 unity 应用应选择最佳关注点根据您的场景，并将其传递到[SetFocusPoint()](focus-point-in-unity.md)。</span><span class="sxs-lookup"><span data-stu-id="65443-211">Unity apps running on a HoloLens should choose the best focus point based on your scene and pass this into [SetFocusPoint()](focus-point-in-unity.md).</span></span> <span data-ttu-id="65443-212">在 DirectX 中设置的焦点位置的示例包括在默认旋转多维数据集模板中。</span><span class="sxs-lookup"><span data-stu-id="65443-212">An example of setting the focus point in DirectX is included in the default spinning cube template.</span></span>

<span data-ttu-id="65443-213">请注意，Unity 应用上运行时连接到桌面 PC 沉浸式头戴式耳机，Unity 将提交到 Windows，若要启用每个像素 reprojection，通常会由应用程序提供更好的图像质量，而无需显式工作深度缓冲区。</span><span class="sxs-lookup"><span data-stu-id="65443-213">Note that when your Unity app runs on an immersive headset connected to a desktop PC, Unity will submit your depth buffer to Windows to enable per-pixel reprojection, which will usually provide even better image quality without explicit work by the app.</span></span> <span data-ttu-id="65443-214">如果提供焦点，将重写每个像素 reprojection，因此您应该仅这样做时在 HoloLens 上运行你的应用。</span><span class="sxs-lookup"><span data-stu-id="65443-214">If you provide a Focus Point, that will override the per-pixel reprojection, so you should only do so when your app is running on a HoloLens.</span></span>




```cs
// SetFocusPoint informs the system about a specific point in your scene to
// prioritize for image stabilization. The focus point is set independently
// for each holographic camera.
// You should set the focus point near the content that the user is looking at.
// In this example, we put the focus point at the center of the sample hologram,
// since that is the only hologram available for the user to focus on.
// You can also set the relative velocity and facing of that content; the sample
// hologram is at a fixed point so we only need to indicate its position.
renderingParameters.SetFocusPoint(
    currentCoordinateSystem,
    spinningCubeRenderer.Position
    );
```

<span data-ttu-id="65443-215">很大程度上取决于焦点的位置查看全息图。</span><span class="sxs-lookup"><span data-stu-id="65443-215">Placement of the focus point largely depends on the hologram is looking at.</span></span> <span data-ttu-id="65443-216">该应用程序可以引用的视线移动矢量和应用程序设计器知道哪些内容他们想要观察的用户。</span><span class="sxs-lookup"><span data-stu-id="65443-216">The app has the gaze vector for reference and the app designer knows what content they want the user to observe.</span></span>

<span data-ttu-id="65443-217">开发人员可以如何稳定全息的单个最重要一点是以 60 FPS 呈现。</span><span class="sxs-lookup"><span data-stu-id="65443-217">The single most important thing a developer can do to stabilize holograms is to render at 60 FPS.</span></span> <span data-ttu-id="65443-218">正在删除以下 60 FPS 会极大地降低全息图稳定性，而不考虑稳定平面优化。</span><span class="sxs-lookup"><span data-stu-id="65443-218">Dropping below 60 FPS will dramatically reduce hologram stability, regardless of the stabilization plane optimization.</span></span>

<span data-ttu-id="65443-219">**最佳做法**没有通用方法来设置稳定平面，它是特定于应用的因此主要建议是试验，创造最适合你的方案。</span><span class="sxs-lookup"><span data-stu-id="65443-219">**Best practices** There is no universal way to set up the stabilization plane and it is app-specific, so the main recommendation is to experiment and see what works best for your scenarios.</span></span> <span data-ttu-id="65443-220">但是，尝试尽可能对齐包含太多内容的稳定平面，因为此平面上的所有内容已完全都稳定化。</span><span class="sxs-lookup"><span data-stu-id="65443-220">However, try to align the stabilization plane with as much content as possible because all the content on this plane is perfectly stabilized.</span></span>

<span data-ttu-id="65443-221">例如：</span><span class="sxs-lookup"><span data-stu-id="65443-221">For example:</span></span>
* <span data-ttu-id="65443-222">如果必须对齐用平面的稳定平面仅平面内容 （阅读应用程序，视频播放应用程序），具有你的内容。</span><span class="sxs-lookup"><span data-stu-id="65443-222">If you have only planar content (reading app, video playback app), align the stabilization plane with the plane that has your content.</span></span>
* <span data-ttu-id="65443-223">如果有 3 个小的球形是世界上锁定，使"剪切"的稳定平面，尽管所有球体的中心位于当前用户的视图。</span><span class="sxs-lookup"><span data-stu-id="65443-223">If there are 3 small spheres that are world-locked, make the stabilization plane "cut" though the centers of all the spheres that are currently in the user's view.</span></span>
* <span data-ttu-id="65443-224">如果您的场景于差别很大的深度中包含的内容，进一步选择对象。</span><span class="sxs-lookup"><span data-stu-id="65443-224">If your scene has content at substantially different depths, favor further objects.</span></span>
* <span data-ttu-id="65443-225">请确保调整查看每个帧，以便与用户的全息图保持一致的稳定点</span><span class="sxs-lookup"><span data-stu-id="65443-225">Make sure to adjust the stabilization point every frame to coincide with the hologram the user is looking at</span></span>

<span data-ttu-id="65443-226">**请避免对**稳定平面是一个不错工具以实现稳定全息，但如果误用它可能会导致严重的映像不稳定。</span><span class="sxs-lookup"><span data-stu-id="65443-226">**Things to Avoid** The stabilization plane is a great tool to achieve stable holograms, but if misused it can result in severe image instability.</span></span>
* <span data-ttu-id="65443-227">没有"发后不理"，因为您可能会产生稳定性的做法背后用户平面或附加到一个对象，它不能再在用户的视图。</span><span class="sxs-lookup"><span data-stu-id="65443-227">Don't "fire and forget", since you can end up with the stabilization plane behind the user or attached to an object that is no longer in the user's view.</span></span> <span data-ttu-id="65443-228">请确保正常的稳定平面设置相反的照相机进 (例如-camera.forward)</span><span class="sxs-lookup"><span data-stu-id="65443-228">Ensure the stabilization plane normal is set opposite camera-forward (e.g. -camera.forward)</span></span>
* <span data-ttu-id="65443-229">不，快速更改极端之间来回的稳定平面</span><span class="sxs-lookup"><span data-stu-id="65443-229">Don't rapidly change the stabilization plane back and forth between extremes</span></span>
* <span data-ttu-id="65443-230">不要将设置为固定的距离/方向的稳定平面</span><span class="sxs-lookup"><span data-stu-id="65443-230">Don't leave the stabilization plane set to a fixed distance/orientation</span></span>
* <span data-ttu-id="65443-231">不要让用户通过剪切的稳定平面</span><span class="sxs-lookup"><span data-stu-id="65443-231">Don't let the stabilization plane cut through the user</span></span>
* <span data-ttu-id="65443-232">不在 PC 而不是 HoloLens，台式机上运行时设置的焦点位置，而是依靠每像素的深度基于 reprojection。</span><span class="sxs-lookup"><span data-stu-id="65443-232">Don't set the focus point when running on a desktop PC rather than a HoloLens, and instead rely on per-pixel depth-based reprojection.</span></span>

## <a name="color-separation"></a><span data-ttu-id="65443-233">分色</span><span class="sxs-lookup"><span data-stu-id="65443-233">Color separation</span></span> 

<span data-ttu-id="65443-234">由于 HoloLens 显示的特性，可能有时会被称为"分色"的项目。</span><span class="sxs-lookup"><span data-stu-id="65443-234">Due to the nature of HoloLens displays, an artifact called "color-separation" can sometimes be perceived.</span></span> <span data-ttu-id="65443-235">它表现为分成单个基本颜色的红色、 绿色和蓝色的图像。</span><span class="sxs-lookup"><span data-stu-id="65443-235">It manifests as the image separating into individual base colors - red, green and blue.</span></span> <span data-ttu-id="65443-236">因为它们具有大量的红色、 绿色和蓝色显示白色对象时，项目可以是尤为明显。</span><span class="sxs-lookup"><span data-stu-id="65443-236">The artifact can be especially visible when displaying white objects, since they have large amounts of red, green and blue.</span></span> <span data-ttu-id="65443-237">在用户直观地跟踪一张全息图时最为明显的是移动跨高速全息版的帧。</span><span class="sxs-lookup"><span data-stu-id="65443-237">It is most pronounced when a user visually tracks a hologram that is moving across the holographic frame at high speed.</span></span> <span data-ttu-id="65443-238">项目可以清单的另一种方法是对象的/扭曲变形。</span><span class="sxs-lookup"><span data-stu-id="65443-238">Another way the artifact can manifest is warping/deformation of objects.</span></span> <span data-ttu-id="65443-239">如果对象具有高对比度和/或纯颜色 （红色、 绿色、 蓝色） 颜色分离将会被视为扭曲的对象的不同部分。</span><span class="sxs-lookup"><span data-stu-id="65443-239">If an object has high contrast and/or pure colors (red, green, blue), color-separation will be perceived as warping of different parts of the object.</span></span>

<span data-ttu-id="65443-240">**如用户旋转在端对其头，哪些颜色分离的 head 锁定白色圆形游标的示例可能如下：**</span><span class="sxs-lookup"><span data-stu-id="65443-240">**Example of what the color separation of a head-locked white round cursor could look like as a user rotates their head to the side:**</span></span>

![哪些颜色分离的 head 锁定白色圆形游标的示例可能类似于如用户旋转在端对其头。](images/colorseparationofroundwhitecursor-300px.png)

<span data-ttu-id="65443-242">尽管很难完全避免分色，有几种方法可用来缓解此问题。</span><span class="sxs-lookup"><span data-stu-id="65443-242">Though it's difficult to completely avoid color separation, there are several techniques available to mitigate it.</span></span>

<span data-ttu-id="65443-243">**可以上看到分色：**</span><span class="sxs-lookup"><span data-stu-id="65443-243">**Color-separation can be seen on:**</span></span>
* <span data-ttu-id="65443-244">要移动速度快，如包括 head 锁定对象的对象[游标](cursors.md)。</span><span class="sxs-lookup"><span data-stu-id="65443-244">Objects that are moving quickly, including head-locked objects such as the [cursor](cursors.md).</span></span>
* <span data-ttu-id="65443-245">对象的大体上远[稳定平面](hologram-stability.md#stabilization-plane)。</span><span class="sxs-lookup"><span data-stu-id="65443-245">Objects that are substantially far from the [stabilization plane](hologram-stability.md#stabilization-plane).</span></span>

<span data-ttu-id="65443-246">**若要会分色的效果：**</span><span class="sxs-lookup"><span data-stu-id="65443-246">**To attenuate the effects of color-separation:**</span></span>
* <span data-ttu-id="65443-247">请延隔用户的视线移动的对象。</span><span class="sxs-lookup"><span data-stu-id="65443-247">Make the object lag the user's gaze.</span></span> <span data-ttu-id="65443-248">看起来应该像它具有一些延时和"上弹簧"附加到的视线移动。</span><span class="sxs-lookup"><span data-stu-id="65443-248">It should appear as if it has some inertia and is attached to the gaze "on springs".</span></span> <span data-ttu-id="65443-249">这将减慢光标 （减少分离距离），并将其放在用户的可能的视线移动点后面。</span><span class="sxs-lookup"><span data-stu-id="65443-249">This slows the cursor (reducing separation distance) and puts it behind the user's likely gaze point.</span></span> <span data-ttu-id="65443-250">只要它快速赶上当用户停止转移其提供注视感觉非常自然。</span><span class="sxs-lookup"><span data-stu-id="65443-250">So long as it quickly catches up when the user stops shifting their gaze it feels quite natural.</span></span>
* <span data-ttu-id="65443-251">如果确实想要移动一张全息图，请尝试保持它的移动速度下面 5 度/秒，如果你希望用户将遵循它与自己眼。</span><span class="sxs-lookup"><span data-stu-id="65443-251">If you do want to move a hologram, try to keep it's movement speed below 5 degrees/second if you anticipate that the user will follow it with their eyes.</span></span>
* <span data-ttu-id="65443-252">使用*light*而不是*geometry*光标。</span><span class="sxs-lookup"><span data-stu-id="65443-252">Use *light* instead of *geometry* for the cursor.</span></span> <span data-ttu-id="65443-253">附加到的视线移动虚拟照明的源将被视为非交互式的指针，但不是会导致分色。</span><span class="sxs-lookup"><span data-stu-id="65443-253">A source of virtual illumination attached to the gaze will be perceived as an interactive pointer but will not cause color-separation.</span></span>
* <span data-ttu-id="65443-254">调整以匹配在观望用户全息的稳定平面。</span><span class="sxs-lookup"><span data-stu-id="65443-254">Adjust the stabilization plane to match the holograms the user is gazing at.</span></span>
* <span data-ttu-id="65443-255">使对象 red、 green 或 blue。</span><span class="sxs-lookup"><span data-stu-id="65443-255">Make the object red, green or blue.</span></span>
* <span data-ttu-id="65443-256">切换到内容的经过模糊处理版本。</span><span class="sxs-lookup"><span data-stu-id="65443-256">Switch to a blurred version of the content.</span></span> <span data-ttu-id="65443-257">例如，倒圆角的白色游标可能是面向移动的方向的略有经过模糊处理行的更改。</span><span class="sxs-lookup"><span data-stu-id="65443-257">For example, a round white cursor could be change to a slightly blurred line oriented in the direction of motion.</span></span>

<span data-ttu-id="65443-258">如之前，呈现在 60 FPS 和设置的稳定平面是全息图稳定性的最重要技术。</span><span class="sxs-lookup"><span data-stu-id="65443-258">As before, rendering at 60 FPS and setting the stabilization plane are the most important techniques for hologram stability.</span></span> <span data-ttu-id="65443-259">如果出现明显颜色分离，首先请确保帧速率满足的期望。</span><span class="sxs-lookup"><span data-stu-id="65443-259">If facing noticeable color separation, first make sure the frame rate meets expectations.</span></span>

## <a name="see-also"></a><span data-ttu-id="65443-260">请参阅</span><span class="sxs-lookup"><span data-stu-id="65443-260">See also</span></span>
* [<span data-ttu-id="65443-261">混合现实的了解性能</span><span class="sxs-lookup"><span data-stu-id="65443-261">Understanding Performance for Mixed Reality</span></span>](understanding-performance-for-mixed-reality.md)
* [<span data-ttu-id="65443-262">颜色、 光线和材料</span><span class="sxs-lookup"><span data-stu-id="65443-262">Color, light and materials</span></span>](color,-light-and-materials.md)
* [<span data-ttu-id="65443-263">交互基础知识</span><span class="sxs-lookup"><span data-stu-id="65443-263">Interaction fundamentals</span></span>](interaction-fundamentals.md)