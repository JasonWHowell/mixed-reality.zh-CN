---
title: HoloLens 环境注意事项
description: 当你为眼睛和环境优化设备时, 可以使用 HoloLens 获得最佳体验。 许多不同的环境因素都融合在一起以实现跟踪, 但作为混合现实开发人员, 有几个因素需要考虑到优化空间, 以获得更好的全息影像。
author: dorreneb
ms.author: dobrown
ms.date: 04/22/2019
ms.topic: article
keywords: 全息框架, 视图字段, fov, 校准, 空间, 环境, 操作方法
ms.openlocfilehash: cc856c42aaf4ddfca8365f63ab0c7df1a1a3b248
ms.sourcegitcommit: 3b32339c5d5c79eaecd84ed27254a8f4321731f1
ms.translationtype: MT
ms.contentlocale: zh-CN
ms.lasthandoff: 08/27/2019
ms.locfileid: "70047080"
---
# <a name="environment-considerations-for-hololens"></a>HoloLens 环境注意事项

HoloLens 将全息与 "真实" 世界混合, 并将全息影像置于你的环境中。 挂历上有一个全息的应用窗口 "挂起", tabletop 上有一个全息的 ballerina 旋转, 并在不知情好友的头的顶部放置。 当你使用沉浸式游戏或应用程序时, 全息区会扩散到你的周围, 但你仍可以在空间内查看和移动。

即使关闭设备, 你放置的全息影像仍会保留在其中放置它们的位置。 

## <a name="setting-up-an-environment"></a>设置环境

HoloLens 设备了解如何通过在空间中*跟踪*用户来放置稳定而准确的全息影像。 如果没有正确的跟踪, 设备将不了解环境或其中的用户-因此, 全息影像可能出现在错误的位置, 每次都不会出现在同一点中, 或根本不显示。 用于跟踪用户的数据在*空间图*中表示。 

跟踪性能会受到用户所在环境的严重影响, 而调整环境以产生稳定而一致的跟踪是一种艺术而不是科学。 许多不同的环境因素都融合在一起以实现跟踪, 但作为混合现实开发人员, 有几个因素需要考虑到优化空间以便于跟踪。
 
### <a name="lighting"></a>照明
Windows Mixed Reality 使用视觉光源来跟踪用户的位置。 当环境太亮时, 照相机可能会饱和, 并且看不到任何内容。 如果环境太暗, 则摄像机无法获取足够的信息, 并且看不到任何内容。 照明量应该甚至是非常明亮的, 人们在没有努力的情况下就能看到, 但这不太太好了。

整体暗区中存在亮点的区域也会出现问题, 因为照相机必须在移入和移出明亮空间时进行调整。 这可能会导致设备 "丢失", 并认为灯光变化等于位置的变化。 区域中稳定的光源级别将导致更好的跟踪。

任何户外照明还会导致跟踪器不稳定, 因为 sun 可能随着时间的推移而变化。 例如, 在夏天与冬季的相同空间中进行跟踪可能产生明显不同的结果, 因为 secondhand 光源可能会在一年的不同时间较高。

如果有 luxmeter, 则可以使用稳定的 500-1000 lux。 

#### <a name="types-of-lighting"></a>照明类型
空间中的不同类型的灯光还会影响跟踪。 灯泡脉冲: 通过其运行的 AC 电-如果 AC 频率为 50Hz, 则光在50Hz 时脉冲。 对于人力, 此闪烁不会注意到。 不过, HoloLens 的30fps 照相机会发现这些变化-某些帧将会很好地发亮, 有些帧会发亮, 有些则会过度曝光, 因为照相机会尝试弥补灯光脉冲。

在美国, 电力频率标准是 60Hz, 因此灯泡脉冲与 HoloLens "帧速率-60Hz- 但是, 许多国家/地区的 AC frequency 标准为 50Hz, 这意味着在脉冲期间将会拍摄一些 HoloLens 帧, 而其他国家/地区则不会。 特别是, 欧洲的荧光灯会导致问题。 

您可以尝试解决闪烁的问题。 温度、灯泡期限和预热周期是荧光灯闪烁并替换电灯泡的常见原因。 加强电灯泡并确保当前绘图也是固定的。 

### <a name="items-in-a-space"></a>空间中的项
HoloLens 使用唯一的环境特征点 (也称为*功能*) 在空间中找到自身。 

设备几乎无法在功能不佳的区域中进行跟踪, 因为设备无法了解空间的位置。 将功能添加到空间的墙壁通常是改善跟踪的好办法。 海报, 将贴为墙壁、植物、unique 对象或其他类似项目的符号。 杂乱的桌面是导致良好跟踪的环境的一个很好的示例-单个区域中有大量不同的功能。 

此外, 在同一空间中使用唯一功能。 例如, 在一堵墙上重复多次的同一海报会导致设备混乱, 因为 HoloLens 不知道它正在寻找哪个重复性海报。 添加独特功能的一种常用方法是使用屏蔽磁带来创建在空间的墙壁和地面上的独特、非重复的模式。 

问问自己的一个不错的问题是-如果你只看到一小部分场景, 你是否可以在空间中唯一找到自己？ 如果不是, 则设备可能也会出现问题跟踪。

#### <a name="wormholes"></a>Wormholes
如果有两个外观相同的区域或区域, 则跟踪器可能会认为它们是相同的。 这会使设备引诱自己认为它是其他地方。 我们称之为*wormholes*的重复区域。 

若要防止 wormholes, 请尝试阻止相同空间中的相同区域。 相同区域有时可以包括工厂工作站、构建、服务器机架或工作工作站上的 windows。 标签区域或向每个相似区域添加独特的功能可帮助减轻 wormholes。

### <a name="qr-codes-in-environments"></a>环境中的 QR 代码。
HoloLens 可能会出于多种原因 (例如, 对对象进行标记或为环境提供附加上下文) 使用[QR 码](qr-code-tracking.md), 但也可用于提高跟踪质量。 即使不使用嵌入到代码中的数据, 也会自动使用 QR 代码来帮助生成映射。

如果使用 QR 码来帮助跟踪, 则需要在任何给定的视图字段内使用两个到三个代码。 在许多情况下, 这会转换为每隔2-3 米或6-9 英尺放置 QR 码。

确保 QR 码为平面, 并牢固地连接到墙壁或其他表面。

有关如何生成和打印 QR 码的最佳实践, 请参阅[qr 码检测的最佳实践](qr-code-tracking.md#best-practices-for-qr-code-detection)。
 
### <a name="movement-in-a-space"></a>在空间中移动
如果你的环境不断变化和变化, 则设备没有要查找的稳定功能。 

在空间中移动的对象 (包括人员) 越多, 就越容易丢失跟踪。 移动传送带, 在不同状态下的项目以及空间中的许多人都知道会造成跟踪问题。

仅当设备清楚地看到该区域时, HoloLens 才能快速适应这些更改。 不经常出现的区域可能会滞后于现实情况, 这可能会导致空间映射出现错误。 例如, 用户扫描朋友, 然后在朋友离开房间时翻过来。 在用户重新扫描当前空格之前, 朋友的 "虚影" 表示形式将保留在空间映射数据中。
 
### <a name="proximity-of-the-user-to-items-in-the-space"></a>用户接近空间中的项
类似于人类无法很好地专注于接近眼睛的物体, 而当对象接近于照相机时, 则会由来已久。 如果对象相对于两个照相机都不可见, 或者如果某个对象正在阻止一个摄像机, 则该设备在跟踪对象时将有更多问题。 

照相机从一个对象看不到15cm。
 
### <a name="surfaces-in-a-space"></a>空间中的表面
根据角度, 强反射图面可能会有所不同, 这会影响跟踪。 想象一下一项全新的汽车-在您四处移动时, 看看看表面上的不同对象。 对于跟踪器, 表面中反映的不同对象表示变化的环境, 设备丢失跟踪。

较小的对象更易于跟踪。

### <a name="wifi-fingerprint-considerations"></a>WiFi 指纹注意事项
只要启用了 WiFi, 地图数据就会与 WiFi 指纹相关联, 即使未连接到实际的 WiFi 网络/路由器也是如此。 如果没有 WiFi 信息, 空间和全息影像可能会稍慢一些, 可以识别。 如果 WiFi 信号变化很大, 设备可能会认为它的空间完全不同。

网络标识 (即 SSID、MAC 地址) 不会发送给 Microsoft, 并且所有 WiFi 引用都在 HoloLens 上保持为本地。

## <a name="mapping-new-spaces"></a>映射新空间
当你输入新空间 (或加载现有空间) 时, 你会看到一个网格图形分布在空间上。 这意味着你的设备正在映射你的环境。 虽然 HoloLens 会在一段时间内获知空间, 但有一些[用于映射空间的提示和技巧](use-hololens-in-new-spaces.md)。 

## <a name="environment-management"></a>环境管理
有两个设置使用户能够 "清除" 全息影像, 并导致 HoloLens "忘记密码"。  它们存在于 "设置" 应用中的 "全息影像和环境" 中, 第二个设置也出现在 "设置" 应用中的 "隐私" 下。

1.  删除附近的全息影像–通过选择此设置, HoloLens 将擦除设备所在的 "当前空间" 的所有定位全息影像和所有存储的映射数据。  一旦全息图再次置于相同空间中, 将在数据库中为该位置创建并存储新的映射部分。

2.  删除所有全息映像–通过选择此设置, HoloLens 将擦除所有地图数据, 并将所有空间中的影像定位到整个空间数据库。  不会重新发现全息影像, 并且需要将任何全息图新放置在数据库中。


## <a name="hologram-quality"></a>全息影像质量

可以在整个环境中放置全息影像 (高、低和全部), 但你可以通过位于眼睛前方的[全息帧](holographic-frame.md)看到它们。 若要获得最佳视图, 请确保调整设备, 以便可以看到整个帧。 而不必担心您的环境和探索!

为了简洁、清晰、稳定地[影像](hologram.md), 你的 HoloLens 需要为你校准。 首次设置 HoloLens 时, 会指导你完成此过程。 稍后, 如果全息影像看起来不正确, 或者您看到了很多错误, 则可以进行调整。

如果在映射空间时遇到问题, 请尝试删除附近的全息影像并重新映射空间。

### <a name="calibration"></a>校准

如果你的全息影像看上去抖动或晃动, 或者如果你在放置全息影像时遇到问题, 第一步是[校准应用](calibration.md)。 此应用还可帮助你在使用 HoloLens 时遇到 discomfort。

若要转到校准应用, 请转到 "设置" > 系统 > 实用工具 "。 选择 "打开校准", 然后按照说明进行操作。

如果运行校准应用并且仍遇到全息影像质量问题, 或者经常遇到 "跟踪丢失" 的消息, 请尝试使用传感器调整应用。 请访问 "设置" > "System > 实用工具", 选择 "打开传感器优化", 然后按照说明进行操作。

如果其他人要使用您的 HoloLens, 则他们应该首先运行校准应用程序, 以便正确设置设备。

## <a name="see-also"></a>请参阅
* [空间映射设计](spatial-mapping-design.md)
* [影像](hologram.md)
* [校准](calibration.md)
* [在新空间中使用 HoloLens](use-hololens-in-new-spaces.md)
